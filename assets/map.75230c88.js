import{e as Se,f as re,_ as xe,o as Y,c as ee,g as E,n as Oe,h as st,i as lt,j as Tl,k as se,l as $e,r as ve,m as je,w as me,q as ie,F as Ae,t as bt,u as Me,v as yt,x as Gt,y as Le,z as Lt,A as gr,B as Ol,C as Nl,D as El,T as Gl,E as Dl,G as Be,H as aa,I as Fl,J as Yn,b as Al,d as Bl,s as Ul,p as Rl}from"./all.3a25f7fe.js";import{l as Ct,s as vr,a as Dt,b as Kn,c as zl,d as ia,e as Qn,k as Zl,D as Hl,L as ce,f as mr,g as ql,m as dt,h as pt,i as it}from"./mapConstants.bdc5c7a0.js";import{r as jl}from"./utils.1985e4e2.js";const Vl=Se({data(){return{selectedMap:re}}});const ut=i=>(st("data-v-25bca65f"),i=i(),lt(),i),Wl={class:"map-selector"},Xl={class:"map-buttons"},Yl=ut(()=>E("p",null,"Map 1",-1)),Kl=ut(()=>E("p",{class:"map-name"},"Bright Sands",-1)),Ql=[Yl,Kl],Jl=ut(()=>E("p",null,"Map 2",-1)),eu=ut(()=>E("p",{class:"map-name"},"Crescent Falls",-1)),tu=[Jl,eu],ru=ut(()=>E("p",null,"Map 3",-1)),nu=ut(()=>E("p",{class:"map-name"},"Tharis Island",-1)),au=[ru,nu];function iu(i,d,y,C,x,t){return Y(),ee("div",Wl,[E("div",Xl,[E("div",{class:Oe(["button-content",i.selectedMap.get()==1?"selected-map":"not-selected-map"]),onClick:d[0]||(d[0]=a=>i.selectedMap.set(1)),role:"button"},Ql,2),E("div",{class:Oe(["button-content",i.selectedMap.get()==2?"selected-map":"not-selected-map"]),onClick:d[1]||(d[1]=a=>i.selectedMap.set(2)),role:"button"},tu,2),E("div",{class:Oe(["button-content",i.selectedMap.get()==3?"selected-map":"not-selected-map"]),onClick:d[2]||(d[2]=a=>i.selectedMap.set(3)),role:"button"},au,2)])])}const ou=xe(Vl,[["render",iu],["__scopeId","data-v-25bca65f"]]);let dr=null;async function Ne(){if(dr)return dr;const i=document.getElementById("loading");i&&(i.style.display="block");const y=await(await fetch(Tl+"mapData.json",{})).json();return i&&(i.style.display="none"),dr=y,y}async function su(){return await(await fetch("./tiers.json")).json()}const lu=Se({data(){return{mapData:null,selectedLocations:se,selectedMap:re,selectedCreatures:$e,containers:[],specialLocations:[],orderedContainers:[],orderedSpecialLocations:[],notFoundContainers:[],notFoundSpecialLocations:[],creatures:[],orderedCreatures:[],notFoundCreatures:[]}},async mounted(){this.mapData=await Ne(),this.containers=await this.getLocations(),this.creatures=await this.getCreatures(),this.specialLocations=Object.keys(this.mapData.locations[re.get()].other),this.orderContainers(),this.orderSpecialLocations(),this.orderCreatures(),this.$watch("selectedMap",async()=>{this.containers=await this.getLocations(),this.specialLocations=Object.keys(this.mapData.locations[re.get()].other),this.creatures=await this.getCreatures(),this.orderContainers(),this.orderSpecialLocations(),this.orderCreatures()},{deep:!0})},methods:{spawnAmount(i,d){let y;return d=="other"?y=this.mapData.locations[re.get()].other[i]:y=this.mapData[d][re.get()][i],y?Object.keys(y).length:0},async getLocations(){let i={...this.mapData.locations[re.get()]};return delete i.VelteciteMineral,delete i.FocusCrystalMineral,delete i.TitanMineral,delete i.NickelMineral,delete i.WaterPlant,delete i.IvyPlant,delete i.DesertPlant,delete i.Brightcap,delete i.LootSpawnPoint_RedBarrel,delete i.LootSpawnPoint_CM_Human,delete i.LootSpawnPoint_Epic,delete i.LootSpawnPoint_Rare,delete i.LootSpawnPoint_Common,delete i.LootSpawnPoint_CM_Area,delete i.LootSpawnPoint_HDD,delete i.Special_LootPoint,delete i.LootPoint,delete i.GenericContainer,delete i.other,Object.keys(i)},async getCreatures(){let i={...this.mapData.creatureLocations[re.get()]};return Object.keys(i)},locationNamer(i){return Ct[i]},orderContainers(){let i=this.containers,d=zl,y=[],C=[];for(let x in d)i.includes(x)?y.push(x):(y.push(x),C.push(x));this.orderedContainers=y,this.notFoundContainers=C},orderSpecialLocations(){let i=this.specialLocations,d=Kn,y=[],C=[];for(let x in d)i.includes(x)?y.push(x):(y.push(x),C.push(x));this.orderedSpecialLocations=y,this.notFoundSpecialLocations=C},enableAllContainers(){let i=this.orderedContainers,d=[];for(let y in i)d.push(i[y]);se.set(d)},disableAllContainers(){let i=se.get(),d=[];for(let y in i)vr.includes(i[y])&&d.push(i[y]);se.set(d)},creatureNamer(i){return Dt[i]},orderCreatures(){let i=this.creatures,d=Dt,y=[],C=[];for(let x in d)i.includes(x)?y.push(x):(y.push(x),C.push(x));this.orderedCreatures=y,this.notFoundCreatures=C},enableAllCreatures(){let i=this.orderedCreatures,d=[];for(let y in i)d.push(i[y]);$e.set(d)},disableAllCreatures(){$e.clear()},enableAllSpecial(){Object.keys(this.mapData.locations[re.get()].other),se.set(Object.keys(Kn))},disableAllSpecial(){let i=se.get(),d=[];for(let y in i)vr.includes(i[y])||d.push(i[y]);se.set(d)},containerClassGiver(i){let d="";return se.get().includes(i)?d+="selected ":d+="not-selected ",this.notFoundContainers.includes(i)&&(d+="not-found"),d},specialLocationClassGiver(i){let d="";return se.get().includes(i)?d+="selected ":d+="not-selected ",this.notFoundSpecialLocations.includes(i)&&(d+="not-found"),d},creatureClassGiver(i){let d="";return $e.get().includes(i)?d+="selected ":d+="not-selected ",this.notFoundCreatures.includes(i)&&(d+="not-found"),d}}});const _r=i=>(st("data-v-55e348ab"),i=i(),lt(),i),uu=_r(()=>E("h2",null," Containers ",-1)),cu={class:"button-container"},fu=["onClick","aria-label"],hu={class:"small"},du=_r(()=>E("h2",null," Creature Spawns ",-1)),pu={class:"button-container"},vu=["onClick","aria-label"],gu={class:"small"},mu=_r(()=>E("h2",null," Special Locations ",-1)),_u={class:"button-container"},bu=["onClick","aria-label"],yu={class:"small"};function Lu(i,d,y,C,x,t){const a=ve("font-awesome-icon"),o=je("tooltip");return Y(),ee(Ae,null,[E("section",null,[E("header",null,[uu,me((Y(),ee("div",{onClick:d[0]||(d[0]=s=>i.enableAllContainers()),"aria-label":"Enable all container locations",class:"enable-all"},[ie(a,{icon:"fa-solid fa-square-check"})])),[[o,{content:"Enable all",html:!0}]]),me((Y(),ee("div",{onClick:d[1]||(d[1]=s=>i.disableAllContainers()),"aria-label":"Disable all container locations",class:"disable-all"},[ie(a,{icon:"fa-solid fa-square-xmark"})])),[[o,{content:"Disable all",html:!0}]])]),E("div",cu,[i.mapData?(Y(!0),ee(Ae,{key:0},bt(i.orderedContainers,s=>(Y(),ee("div",{onClick:h=>i.notFoundContainers.includes(s)?null:i.selectedLocations.toggle(s),"aria-label":"Toggle "+i.locationNamer(s),role:"button"},[E("div",null,[E("p",{class:Oe(i.containerClassGiver(s))},[E("span",null,Me(i.locationNamer(s)),1),E("span",hu," ("+Me(i.spawnAmount(s,"locations"))+") ",1)],2)])],8,fu))),256)):yt("",!0)])]),E("section",null,[E("header",null,[du,me((Y(),ee("div",{onClick:d[2]||(d[2]=s=>i.enableAllCreatures()),"aria-label":"Enable all creature locations",class:"enable-all"},[ie(a,{icon:"fa-solid fa-square-check"})])),[[o,{content:"Enable all",html:!0}]]),me((Y(),ee("div",{onClick:d[3]||(d[3]=s=>i.disableAllCreatures()),"aria-label":"Disable all creature locations",class:"disable-all"},[ie(a,{icon:"fa-solid fa-square-xmark"})])),[[o,{content:"Disable all",html:!0}]])]),E("div",pu,[i.mapData?(Y(!0),ee(Ae,{key:0},bt(i.orderedCreatures,s=>(Y(),ee("div",{onClick:h=>i.notFoundCreatures.includes(s)?null:i.selectedCreatures.toggle(s),"aria-label":"Toggle "+i.creatureNamer(s),role:"button"},[E("p",{class:Oe(i.creatureClassGiver(s))},[E("span",null,Me(i.creatureNamer(s)),1),E("span",gu," ("+Me(i.spawnAmount(s,"creatureLocations"))+") ",1)],2)],8,vu))),256)):yt("",!0)])]),E("section",null,[E("header",null,[mu,me((Y(),ee("div",{onClick:d[4]||(d[4]=s=>i.enableAllSpecial()),"aria-label":"Enable all special locations",class:"enable-all"},[ie(a,{icon:"fa-solid fa-square-check"})])),[[o,{content:"Enable all",html:!0}]]),me((Y(),ee("div",{onClick:d[5]||(d[5]=s=>i.disableAllSpecial()),"aria-label":"Disable all special locations",class:"disable-all"},[ie(a,{icon:"fa-solid fa-square-xmark"})])),[[o,{content:"Disable all",html:!0}]])]),E("div",_u,[i.mapData?(Y(!0),ee(Ae,{key:0},bt(i.orderedSpecialLocations,s=>(Y(),ee("div",{onClick:h=>i.notFoundSpecialLocations.includes(s)?null:i.selectedLocations.toggle(s),"aria-label":"Toggle "+i.locationNamer(s),role:"button"},[E("p",{class:Oe(i.specialLocationClassGiver(s))},[E("span",null,Me(i.locationNamer(s)),1),E("span",yu," ("+Me(i.spawnAmount(s,"other"))+") ",1)],2)],8,bu))),256)):yt("",!0)])])],64)}const Cu=xe(lu,[["render",Lu],["__scopeId","data-v-55e348ab"]]);var Jn={exports:{}};(function(i,d){(function(y,C){C(d)})(ia,function(y){var C=L.MarkerClusterGroup=L.FeatureGroup.extend({options:{maxClusterRadius:80,iconCreateFunction:null,clusterPane:L.Marker.prototype.options.pane,spiderfyOnEveryZoom:!1,spiderfyOnMaxZoom:!0,showCoverageOnHover:!0,zoomToBoundsOnClick:!0,singleMarkerMode:!1,disableClusteringAtZoom:null,removeOutsideVisibleBounds:!0,animate:!0,animateAddingMarkers:!1,spiderfyShapePositions:null,spiderfyDistanceMultiplier:1,spiderLegPolylineOptions:{weight:1.5,color:"#222",opacity:.5},chunkedLoading:!1,chunkInterval:200,chunkDelay:50,chunkProgress:null,polygonOptions:{}},initialize:function(t){L.Util.setOptions(this,t),this.options.iconCreateFunction||(this.options.iconCreateFunction=this._defaultIconCreateFunction),this._featureGroup=L.featureGroup(),this._featureGroup.addEventParent(this),this._nonPointGroup=L.featureGroup(),this._nonPointGroup.addEventParent(this),this._inZoomAnimation=0,this._needsClustering=[],this._needsRemoving=[],this._currentShownBounds=null,this._queue=[],this._childMarkerEventHandlers={dragstart:this._childMarkerDragStart,move:this._childMarkerMoved,dragend:this._childMarkerDragEnd};var a=L.DomUtil.TRANSITION&&this.options.animate;L.extend(this,a?this._withAnimation:this._noAnimation),this._markerCluster=a?L.MarkerCluster:L.MarkerClusterNonAnimated},addLayer:function(t){if(t instanceof L.LayerGroup)return this.addLayers([t]);if(!t.getLatLng)return this._nonPointGroup.addLayer(t),this.fire("layeradd",{layer:t}),this;if(!this._map)return this._needsClustering.push(t),this.fire("layeradd",{layer:t}),this;if(this.hasLayer(t))return this;this._unspiderfy&&this._unspiderfy(),this._addLayer(t,this._maxZoom),this.fire("layeradd",{layer:t}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons();var a=t,o=this._zoom;if(t.__parent)for(;a.__parent._zoom>=o;)a=a.__parent;return this._currentShownBounds.contains(a.getLatLng())&&(this.options.animateAddingMarkers?this._animationAddLayer(t,a):this._animationAddLayerNonAnimated(t,a)),this},removeLayer:function(t){return t instanceof L.LayerGroup?this.removeLayers([t]):t.getLatLng?this._map?t.__parent?(this._unspiderfy&&(this._unspiderfy(),this._unspiderfyLayer(t)),this._removeLayer(t,!0),this.fire("layerremove",{layer:t}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),t.off(this._childMarkerEventHandlers,this),this._featureGroup.hasLayer(t)&&(this._featureGroup.removeLayer(t),t.clusterShow&&t.clusterShow()),this):this:(!this._arraySplice(this._needsClustering,t)&&this.hasLayer(t)&&this._needsRemoving.push({layer:t,latlng:t._latlng}),this.fire("layerremove",{layer:t}),this):(this._nonPointGroup.removeLayer(t),this.fire("layerremove",{layer:t}),this)},addLayers:function(t,a){if(!L.Util.isArray(t))return this.addLayer(t);var o=this._featureGroup,s=this._nonPointGroup,h=this.options.chunkedLoading,p=this.options.chunkInterval,m=this.options.chunkProgress,w=t.length,b=0,P=!0,_;if(this._map){var T=new Date().getTime(),D=L.bind(function(){var oe=new Date().getTime();for(this._map&&this._unspiderfy&&this._unspiderfy();b<w;b++){if(h&&b%200===0){var W=new Date().getTime()-oe;if(W>p)break}if(_=t[b],_ instanceof L.LayerGroup){P&&(t=t.slice(),P=!1),this._extractNonGroupLayers(_,t),w=t.length;continue}if(!_.getLatLng){s.addLayer(_),a||this.fire("layeradd",{layer:_});continue}if(!this.hasLayer(_)&&(this._addLayer(_,this._maxZoom),a||this.fire("layeradd",{layer:_}),_.__parent&&_.__parent.getChildCount()===2)){var X=_.__parent.getAllChildMarkers(),A=X[0]===_?X[1]:X[0];o.removeLayer(A)}}m&&m(b,w,new Date().getTime()-T),b===w?(this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds)):setTimeout(D,this.options.chunkDelay)},this);D()}else for(var q=this._needsClustering;b<w;b++){if(_=t[b],_ instanceof L.LayerGroup){P&&(t=t.slice(),P=!1),this._extractNonGroupLayers(_,t),w=t.length;continue}if(!_.getLatLng){s.addLayer(_);continue}this.hasLayer(_)||q.push(_)}return this},removeLayers:function(t){var a,o,s=t.length,h=this._featureGroup,p=this._nonPointGroup,m=!0;if(!this._map){for(a=0;a<s;a++){if(o=t[a],o instanceof L.LayerGroup){m&&(t=t.slice(),m=!1),this._extractNonGroupLayers(o,t),s=t.length;continue}this._arraySplice(this._needsClustering,o),p.removeLayer(o),this.hasLayer(o)&&this._needsRemoving.push({layer:o,latlng:o._latlng}),this.fire("layerremove",{layer:o})}return this}if(this._unspiderfy){this._unspiderfy();var w=t.slice(),b=s;for(a=0;a<b;a++){if(o=w[a],o instanceof L.LayerGroup){this._extractNonGroupLayers(o,w),b=w.length;continue}this._unspiderfyLayer(o)}}for(a=0;a<s;a++){if(o=t[a],o instanceof L.LayerGroup){m&&(t=t.slice(),m=!1),this._extractNonGroupLayers(o,t),s=t.length;continue}if(!o.__parent){p.removeLayer(o),this.fire("layerremove",{layer:o});continue}this._removeLayer(o,!0,!0),this.fire("layerremove",{layer:o}),h.hasLayer(o)&&(h.removeLayer(o),o.clusterShow&&o.clusterShow())}return this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds),this},clearLayers:function(){return this._map||(this._needsClustering=[],this._needsRemoving=[],delete this._gridClusters,delete this._gridUnclustered),this._noanimationUnspiderfy&&this._noanimationUnspiderfy(),this._featureGroup.clearLayers(),this._nonPointGroup.clearLayers(),this.eachLayer(function(t){t.off(this._childMarkerEventHandlers,this),delete t.__parent},this),this._map&&this._generateInitialClusters(),this},getBounds:function(){var t=new L.LatLngBounds;this._topClusterLevel&&t.extend(this._topClusterLevel._bounds);for(var a=this._needsClustering.length-1;a>=0;a--)t.extend(this._needsClustering[a].getLatLng());return t.extend(this._nonPointGroup.getBounds()),t},eachLayer:function(t,a){var o=this._needsClustering.slice(),s=this._needsRemoving,h,p,m;for(this._topClusterLevel&&this._topClusterLevel.getAllChildMarkers(o),p=o.length-1;p>=0;p--){for(h=!0,m=s.length-1;m>=0;m--)if(s[m].layer===o[p]){h=!1;break}h&&t.call(a,o[p])}this._nonPointGroup.eachLayer(t,a)},getLayers:function(){var t=[];return this.eachLayer(function(a){t.push(a)}),t},getLayer:function(t){var a=null;return t=parseInt(t,10),this.eachLayer(function(o){L.stamp(o)===t&&(a=o)}),a},hasLayer:function(t){if(!t)return!1;var a,o=this._needsClustering;for(a=o.length-1;a>=0;a--)if(o[a]===t)return!0;for(o=this._needsRemoving,a=o.length-1;a>=0;a--)if(o[a].layer===t)return!1;return!!(t.__parent&&t.__parent._group===this)||this._nonPointGroup.hasLayer(t)},zoomToShowLayer:function(t,a){var o=this._map;typeof a!="function"&&(a=function(){});var s=function(){(o.hasLayer(t)||o.hasLayer(t.__parent))&&!this._inZoomAnimation&&(this._map.off("moveend",s,this),this.off("animationend",s,this),o.hasLayer(t)?a():t.__parent._icon&&(this.once("spiderfied",a,this),t.__parent.spiderfy()))};t._icon&&this._map.getBounds().contains(t.getLatLng())?a():t.__parent._zoom<Math.round(this._map._zoom)?(this._map.on("moveend",s,this),this._map.panTo(t.getLatLng())):(this._map.on("moveend",s,this),this.on("animationend",s,this),t.__parent.zoomToBounds())},onAdd:function(t){this._map=t;var a,o,s;if(!isFinite(this._map.getMaxZoom()))throw"Map has no maxZoom specified";for(this._featureGroup.addTo(t),this._nonPointGroup.addTo(t),this._gridClusters||this._generateInitialClusters(),this._maxLat=t.options.crs.projection.MAX_LATITUDE,a=0,o=this._needsRemoving.length;a<o;a++)s=this._needsRemoving[a],s.newlatlng=s.layer._latlng,s.layer._latlng=s.latlng;for(a=0,o=this._needsRemoving.length;a<o;a++)s=this._needsRemoving[a],this._removeLayer(s.layer,!0),s.layer._latlng=s.newlatlng;this._needsRemoving=[],this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds(),this._map.on("zoomend",this._zoomEnd,this),this._map.on("moveend",this._moveEnd,this),this._spiderfierOnAdd&&this._spiderfierOnAdd(),this._bindEvents(),o=this._needsClustering,this._needsClustering=[],this.addLayers(o,!0)},onRemove:function(t){t.off("zoomend",this._zoomEnd,this),t.off("moveend",this._moveEnd,this),this._unbindEvents(),this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim",""),this._spiderfierOnRemove&&this._spiderfierOnRemove(),delete this._maxLat,this._hideCoverage(),this._featureGroup.remove(),this._nonPointGroup.remove(),this._featureGroup.clearLayers(),this._map=null},getVisibleParent:function(t){for(var a=t;a&&!a._icon;)a=a.__parent;return a||null},_arraySplice:function(t,a){for(var o=t.length-1;o>=0;o--)if(t[o]===a)return t.splice(o,1),!0},_removeFromGridUnclustered:function(t,a){for(var o=this._map,s=this._gridUnclustered,h=Math.floor(this._map.getMinZoom());a>=h&&s[a].removeObject(t,o.project(t.getLatLng(),a));a--);},_childMarkerDragStart:function(t){t.target.__dragStart=t.target._latlng},_childMarkerMoved:function(t){if(!this._ignoreMove&&!t.target.__dragStart){var a=t.target._popup&&t.target._popup.isOpen();this._moveChild(t.target,t.oldLatLng,t.latlng),a&&t.target.openPopup()}},_moveChild:function(t,a,o){t._latlng=a,this.removeLayer(t),t._latlng=o,this.addLayer(t)},_childMarkerDragEnd:function(t){var a=t.target.__dragStart;delete t.target.__dragStart,a&&this._moveChild(t.target,a,t.target._latlng)},_removeLayer:function(t,a,o){var s=this._gridClusters,h=this._gridUnclustered,p=this._featureGroup,m=this._map,w=Math.floor(this._map.getMinZoom());a&&this._removeFromGridUnclustered(t,this._maxZoom);var b=t.__parent,P=b._markers,_;for(this._arraySplice(P,t);b&&(b._childCount--,b._boundsNeedUpdate=!0,!(b._zoom<w));)a&&b._childCount<=1?(_=b._markers[0]===t?b._markers[1]:b._markers[0],s[b._zoom].removeObject(b,m.project(b._cLatLng,b._zoom)),h[b._zoom].addObject(_,m.project(_.getLatLng(),b._zoom)),this._arraySplice(b.__parent._childClusters,b),b.__parent._markers.push(_),_.__parent=b.__parent,b._icon&&(p.removeLayer(b),o||p.addLayer(_))):b._iconNeedsUpdate=!0,b=b.__parent;delete t.__parent},_isOrIsParent:function(t,a){for(;a;){if(t===a)return!0;a=a.parentNode}return!1},fire:function(t,a,o){if(a&&a.layer instanceof L.MarkerCluster){if(a.originalEvent&&this._isOrIsParent(a.layer._icon,a.originalEvent.relatedTarget))return;t="cluster"+t}L.FeatureGroup.prototype.fire.call(this,t,a,o)},listens:function(t,a){return L.FeatureGroup.prototype.listens.call(this,t,a)||L.FeatureGroup.prototype.listens.call(this,"cluster"+t,a)},_defaultIconCreateFunction:function(t){var a=t.getChildCount(),o=" marker-cluster-";return a<10?o+="small":a<100?o+="medium":o+="large",new L.DivIcon({html:"<div><span>"+a+"</span></div>",className:"marker-cluster"+o,iconSize:new L.Point(40,40)})},_bindEvents:function(){var t=this._map,a=this.options.spiderfyOnMaxZoom,o=this.options.showCoverageOnHover,s=this.options.zoomToBoundsOnClick,h=this.options.spiderfyOnEveryZoom;(a||s||h)&&this.on("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),o&&(this.on("clustermouseover",this._showCoverage,this),this.on("clustermouseout",this._hideCoverage,this),t.on("zoomend",this._hideCoverage,this))},_zoomOrSpiderfy:function(t){var a=t.layer,o=a;if(!(t.type==="clusterkeypress"&&t.originalEvent&&t.originalEvent.keyCode!==13)){for(;o._childClusters.length===1;)o=o._childClusters[0];o._zoom===this._maxZoom&&o._childCount===a._childCount&&this.options.spiderfyOnMaxZoom?a.spiderfy():this.options.zoomToBoundsOnClick&&a.zoomToBounds(),this.options.spiderfyOnEveryZoom&&a.spiderfy(),t.originalEvent&&t.originalEvent.keyCode===13&&this._map._container.focus()}},_showCoverage:function(t){var a=this._map;this._inZoomAnimation||(this._shownPolygon&&a.removeLayer(this._shownPolygon),t.layer.getChildCount()>2&&t.layer!==this._spiderfied&&(this._shownPolygon=new L.Polygon(t.layer.getConvexHull(),this.options.polygonOptions),a.addLayer(this._shownPolygon)))},_hideCoverage:function(){this._shownPolygon&&(this._map.removeLayer(this._shownPolygon),this._shownPolygon=null)},_unbindEvents:function(){var t=this.options.spiderfyOnMaxZoom,a=this.options.showCoverageOnHover,o=this.options.zoomToBoundsOnClick,s=this.options.spiderfyOnEveryZoom,h=this._map;(t||o||s)&&this.off("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),a&&(this.off("clustermouseover",this._showCoverage,this),this.off("clustermouseout",this._hideCoverage,this),h.off("zoomend",this._hideCoverage,this))},_zoomEnd:function(){!this._map||(this._mergeSplitClusters(),this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds())},_moveEnd:function(){if(!this._inZoomAnimation){var t=this._getExpandedVisibleBounds();this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,t),this._topClusterLevel._recursivelyAddChildrenToMap(null,Math.round(this._map._zoom),t),this._currentShownBounds=t}},_generateInitialClusters:function(){var t=Math.ceil(this._map.getMaxZoom()),a=Math.floor(this._map.getMinZoom()),o=this.options.maxClusterRadius,s=o;typeof o!="function"&&(s=function(){return o}),this.options.disableClusteringAtZoom!==null&&(t=this.options.disableClusteringAtZoom-1),this._maxZoom=t,this._gridClusters={},this._gridUnclustered={};for(var h=t;h>=a;h--)this._gridClusters[h]=new L.DistanceGrid(s(h)),this._gridUnclustered[h]=new L.DistanceGrid(s(h));this._topClusterLevel=new this._markerCluster(this,a-1)},_addLayer:function(t,a){var o=this._gridClusters,s=this._gridUnclustered,h=Math.floor(this._map.getMinZoom()),p,m;for(this.options.singleMarkerMode&&this._overrideMarkerIcon(t),t.on(this._childMarkerEventHandlers,this);a>=h;a--){p=this._map.project(t.getLatLng(),a);var w=o[a].getNearObject(p);if(w){w._addChild(t),t.__parent=w;return}if(w=s[a].getNearObject(p),w){var b=w.__parent;b&&this._removeLayer(w,!1);var P=new this._markerCluster(this,a,w,t);o[a].addObject(P,this._map.project(P._cLatLng,a)),w.__parent=P,t.__parent=P;var _=P;for(m=a-1;m>b._zoom;m--)_=new this._markerCluster(this,m,_),o[m].addObject(_,this._map.project(w.getLatLng(),m));b._addChild(_),this._removeFromGridUnclustered(w,a);return}s[a].addObject(t,p)}this._topClusterLevel._addChild(t),t.__parent=this._topClusterLevel},_refreshClustersIcons:function(){this._featureGroup.eachLayer(function(t){t instanceof L.MarkerCluster&&t._iconNeedsUpdate&&t._updateIcon()})},_enqueue:function(t){this._queue.push(t),this._queueTimeout||(this._queueTimeout=setTimeout(L.bind(this._processQueue,this),300))},_processQueue:function(){for(var t=0;t<this._queue.length;t++)this._queue[t].call(this);this._queue.length=0,clearTimeout(this._queueTimeout),this._queueTimeout=null},_mergeSplitClusters:function(){var t=Math.round(this._map._zoom);this._processQueue(),this._zoom<t&&this._currentShownBounds.intersects(this._getExpandedVisibleBounds())?(this._animationStart(),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,this._getExpandedVisibleBounds()),this._animationZoomIn(this._zoom,t)):this._zoom>t?(this._animationStart(),this._animationZoomOut(this._zoom,t)):this._moveEnd()},_getExpandedVisibleBounds:function(){if(this.options.removeOutsideVisibleBounds){if(L.Browser.mobile)return this._checkBoundsMaxLat(this._map.getBounds())}else return this._mapBoundsInfinite;return this._checkBoundsMaxLat(this._map.getBounds().pad(1))},_checkBoundsMaxLat:function(t){var a=this._maxLat;return a!==void 0&&(t.getNorth()>=a&&(t._northEast.lat=1/0),t.getSouth()<=-a&&(t._southWest.lat=-1/0)),t},_animationAddLayerNonAnimated:function(t,a){if(a===t)this._featureGroup.addLayer(t);else if(a._childCount===2){a._addToMap();var o=a.getAllChildMarkers();this._featureGroup.removeLayer(o[0]),this._featureGroup.removeLayer(o[1])}else a._updateIcon()},_extractNonGroupLayers:function(t,a){var o=t.getLayers(),s=0,h;for(a=a||[];s<o.length;s++){if(h=o[s],h instanceof L.LayerGroup){this._extractNonGroupLayers(h,a);continue}a.push(h)}return a},_overrideMarkerIcon:function(t){var a=t.options.icon=this.options.iconCreateFunction({getChildCount:function(){return 1},getAllChildMarkers:function(){return[t]}});return a}});L.MarkerClusterGroup.include({_mapBoundsInfinite:new L.LatLngBounds(new L.LatLng(-1/0,-1/0),new L.LatLng(1/0,1/0))}),L.MarkerClusterGroup.include({_noAnimation:{_animationStart:function(){},_animationZoomIn:function(t,a){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),t),this._topClusterLevel._recursivelyAddChildrenToMap(null,a,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationZoomOut:function(t,a){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),t),this._topClusterLevel._recursivelyAddChildrenToMap(null,a,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationAddLayer:function(t,a){this._animationAddLayerNonAnimated(t,a)}},_withAnimation:{_animationStart:function(){this._map._mapPane.className+=" leaflet-cluster-anim",this._inZoomAnimation++},_animationZoomIn:function(t,a){var o=this._getExpandedVisibleBounds(),s=this._featureGroup,h=Math.floor(this._map.getMinZoom()),p;this._ignoreMove=!0,this._topClusterLevel._recursively(o,t,h,function(m){var w=m._latlng,b=m._markers,P;for(o.contains(w)||(w=null),m._isSingleParent()&&t+1===a?(s.removeLayer(m),m._recursivelyAddChildrenToMap(null,a,o)):(m.clusterHide(),m._recursivelyAddChildrenToMap(w,a,o)),p=b.length-1;p>=0;p--)P=b[p],o.contains(P._latlng)||s.removeLayer(P)}),this._forceLayout(),this._topClusterLevel._recursivelyBecomeVisible(o,a),s.eachLayer(function(m){!(m instanceof L.MarkerCluster)&&m._icon&&m.clusterShow()}),this._topClusterLevel._recursively(o,t,a,function(m){m._recursivelyRestoreChildPositions(a)}),this._ignoreMove=!1,this._enqueue(function(){this._topClusterLevel._recursively(o,t,h,function(m){s.removeLayer(m),m.clusterShow()}),this._animationEnd()})},_animationZoomOut:function(t,a){this._animationZoomOutSingle(this._topClusterLevel,t-1,a),this._topClusterLevel._recursivelyAddChildrenToMap(null,a,this._getExpandedVisibleBounds()),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),t,this._getExpandedVisibleBounds())},_animationAddLayer:function(t,a){var o=this,s=this._featureGroup;s.addLayer(t),a!==t&&(a._childCount>2?(a._updateIcon(),this._forceLayout(),this._animationStart(),t._setPos(this._map.latLngToLayerPoint(a.getLatLng())),t.clusterHide(),this._enqueue(function(){s.removeLayer(t),t.clusterShow(),o._animationEnd()})):(this._forceLayout(),o._animationStart(),o._animationZoomOutSingle(a,this._map.getMaxZoom(),this._zoom)))}},_animationZoomOutSingle:function(t,a,o){var s=this._getExpandedVisibleBounds(),h=Math.floor(this._map.getMinZoom());t._recursivelyAnimateChildrenInAndAddSelfToMap(s,h,a+1,o);var p=this;this._forceLayout(),t._recursivelyBecomeVisible(s,o),this._enqueue(function(){if(t._childCount===1){var m=t._markers[0];this._ignoreMove=!0,m.setLatLng(m.getLatLng()),this._ignoreMove=!1,m.clusterShow&&m.clusterShow()}else t._recursively(s,o,h,function(w){w._recursivelyRemoveChildrenFromMap(s,h,a+1)});p._animationEnd()})},_animationEnd:function(){this._map&&(this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim","")),this._inZoomAnimation--,this.fire("animationend")},_forceLayout:function(){L.Util.falseFn(document.body.offsetWidth)}}),L.markerClusterGroup=function(t){return new L.MarkerClusterGroup(t)};var x=L.MarkerCluster=L.Marker.extend({options:L.Icon.prototype.options,initialize:function(t,a,o,s){L.Marker.prototype.initialize.call(this,o?o._cLatLng||o.getLatLng():new L.LatLng(0,0),{icon:this,pane:t.options.clusterPane}),this._group=t,this._zoom=a,this._markers=[],this._childClusters=[],this._childCount=0,this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._bounds=new L.LatLngBounds,o&&this._addChild(o),s&&this._addChild(s)},getAllChildMarkers:function(t,a){t=t||[];for(var o=this._childClusters.length-1;o>=0;o--)this._childClusters[o].getAllChildMarkers(t,a);for(var s=this._markers.length-1;s>=0;s--)a&&this._markers[s].__dragStart||t.push(this._markers[s]);return t},getChildCount:function(){return this._childCount},zoomToBounds:function(t){for(var a=this._childClusters.slice(),o=this._group._map,s=o.getBoundsZoom(this._bounds),h=this._zoom+1,p=o.getZoom(),m;a.length>0&&s>h;){h++;var w=[];for(m=0;m<a.length;m++)w=w.concat(a[m]._childClusters);a=w}s>h?this._group._map.setView(this._latlng,h):s<=p?this._group._map.setView(this._latlng,p+1):this._group._map.fitBounds(this._bounds,t)},getBounds:function(){var t=new L.LatLngBounds;return t.extend(this._bounds),t},_updateIcon:function(){this._iconNeedsUpdate=!0,this._icon&&this.setIcon(this)},createIcon:function(){return this._iconNeedsUpdate&&(this._iconObj=this._group.options.iconCreateFunction(this),this._iconNeedsUpdate=!1),this._iconObj.createIcon()},createShadow:function(){return this._iconObj.createShadow()},_addChild:function(t,a){this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._setClusterCenter(t),t instanceof L.MarkerCluster?(a||(this._childClusters.push(t),t.__parent=this),this._childCount+=t._childCount):(a||this._markers.push(t),this._childCount++),this.__parent&&this.__parent._addChild(t,!0)},_setClusterCenter:function(t){this._cLatLng||(this._cLatLng=t._cLatLng||t._latlng)},_resetBounds:function(){var t=this._bounds;t._southWest&&(t._southWest.lat=1/0,t._southWest.lng=1/0),t._northEast&&(t._northEast.lat=-1/0,t._northEast.lng=-1/0)},_recalculateBounds:function(){var t=this._markers,a=this._childClusters,o=0,s=0,h=this._childCount,p,m,w,b;if(h!==0){for(this._resetBounds(),p=0;p<t.length;p++)w=t[p]._latlng,this._bounds.extend(w),o+=w.lat,s+=w.lng;for(p=0;p<a.length;p++)m=a[p],m._boundsNeedUpdate&&m._recalculateBounds(),this._bounds.extend(m._bounds),w=m._wLatLng,b=m._childCount,o+=w.lat*b,s+=w.lng*b;this._latlng=this._wLatLng=new L.LatLng(o/h,s/h),this._boundsNeedUpdate=!1}},_addToMap:function(t){t&&(this._backupLatlng=this._latlng,this.setLatLng(t)),this._group._featureGroup.addLayer(this)},_recursivelyAnimateChildrenIn:function(t,a,o){this._recursively(t,this._group._map.getMinZoom(),o-1,function(s){var h=s._markers,p,m;for(p=h.length-1;p>=0;p--)m=h[p],m._icon&&(m._setPos(a),m.clusterHide())},function(s){var h=s._childClusters,p,m;for(p=h.length-1;p>=0;p--)m=h[p],m._icon&&(m._setPos(a),m.clusterHide())})},_recursivelyAnimateChildrenInAndAddSelfToMap:function(t,a,o,s){this._recursively(t,s,a,function(h){h._recursivelyAnimateChildrenIn(t,h._group._map.latLngToLayerPoint(h.getLatLng()).round(),o),h._isSingleParent()&&o-1===s?(h.clusterShow(),h._recursivelyRemoveChildrenFromMap(t,a,o)):h.clusterHide(),h._addToMap()})},_recursivelyBecomeVisible:function(t,a){this._recursively(t,this._group._map.getMinZoom(),a,null,function(o){o.clusterShow()})},_recursivelyAddChildrenToMap:function(t,a,o){this._recursively(o,this._group._map.getMinZoom()-1,a,function(s){if(a!==s._zoom)for(var h=s._markers.length-1;h>=0;h--){var p=s._markers[h];!o.contains(p._latlng)||(t&&(p._backupLatlng=p.getLatLng(),p.setLatLng(t),p.clusterHide&&p.clusterHide()),s._group._featureGroup.addLayer(p))}},function(s){s._addToMap(t)})},_recursivelyRestoreChildPositions:function(t){for(var a=this._markers.length-1;a>=0;a--){var o=this._markers[a];o._backupLatlng&&(o.setLatLng(o._backupLatlng),delete o._backupLatlng)}if(t-1===this._zoom)for(var s=this._childClusters.length-1;s>=0;s--)this._childClusters[s]._restorePosition();else for(var h=this._childClusters.length-1;h>=0;h--)this._childClusters[h]._recursivelyRestoreChildPositions(t)},_restorePosition:function(){this._backupLatlng&&(this.setLatLng(this._backupLatlng),delete this._backupLatlng)},_recursivelyRemoveChildrenFromMap:function(t,a,o,s){var h,p;this._recursively(t,a-1,o-1,function(m){for(p=m._markers.length-1;p>=0;p--)h=m._markers[p],(!s||!s.contains(h._latlng))&&(m._group._featureGroup.removeLayer(h),h.clusterShow&&h.clusterShow())},function(m){for(p=m._childClusters.length-1;p>=0;p--)h=m._childClusters[p],(!s||!s.contains(h._latlng))&&(m._group._featureGroup.removeLayer(h),h.clusterShow&&h.clusterShow())})},_recursively:function(t,a,o,s,h){var p=this._childClusters,m=this._zoom,w,b;if(a<=m&&(s&&s(this),h&&m===o&&h(this)),m<a||m<o)for(w=p.length-1;w>=0;w--)b=p[w],b._boundsNeedUpdate&&b._recalculateBounds(),t.intersects(b._bounds)&&b._recursively(t,a,o,s,h)},_isSingleParent:function(){return this._childClusters.length>0&&this._childClusters[0]._childCount===this._childCount}});L.Marker.include({clusterHide:function(){var t=this.options.opacity;return this.setOpacity(0),this.options.opacity=t,this},clusterShow:function(){return this.setOpacity(this.options.opacity)}}),L.DistanceGrid=function(t){this._cellSize=t,this._sqCellSize=t*t,this._grid={},this._objectPoint={}},L.DistanceGrid.prototype={addObject:function(t,a){var o=this._getCoord(a.x),s=this._getCoord(a.y),h=this._grid,p=h[s]=h[s]||{},m=p[o]=p[o]||[],w=L.Util.stamp(t);this._objectPoint[w]=a,m.push(t)},updateObject:function(t,a){this.removeObject(t),this.addObject(t,a)},removeObject:function(t,a){var o=this._getCoord(a.x),s=this._getCoord(a.y),h=this._grid,p=h[s]=h[s]||{},m=p[o]=p[o]||[],w,b;for(delete this._objectPoint[L.Util.stamp(t)],w=0,b=m.length;w<b;w++)if(m[w]===t)return m.splice(w,1),b===1&&delete p[o],!0},eachObject:function(t,a){var o,s,h,p,m,w,b,P=this._grid;for(o in P){m=P[o];for(s in m)for(w=m[s],h=0,p=w.length;h<p;h++)b=t.call(a,w[h]),b&&(h--,p--)}},getNearObject:function(t){var a=this._getCoord(t.x),o=this._getCoord(t.y),s,h,p,m,w,b,P,_,T=this._objectPoint,D=this._sqCellSize,q=null;for(s=o-1;s<=o+1;s++)if(m=this._grid[s],m){for(h=a-1;h<=a+1;h++)if(w=m[h],w)for(p=0,b=w.length;p<b;p++)P=w[p],_=this._sqDist(T[L.Util.stamp(P)],t),(_<D||_<=D&&q===null)&&(D=_,q=P)}return q},_getCoord:function(t){var a=Math.floor(t/this._cellSize);return isFinite(a)?a:t},_sqDist:function(t,a){var o=a.x-t.x,s=a.y-t.y;return o*o+s*s}},function(){L.QuickHull={getDistant:function(t,a){var o=a[1].lat-a[0].lat,s=a[0].lng-a[1].lng;return s*(t.lat-a[0].lat)+o*(t.lng-a[0].lng)},findMostDistantPointFromBaseLine:function(t,a){var o=0,s=null,h=[],p,m,w;for(p=a.length-1;p>=0;p--){if(m=a[p],w=this.getDistant(m,t),w>0)h.push(m);else continue;w>o&&(o=w,s=m)}return{maxPoint:s,newPoints:h}},buildConvexHull:function(t,a){var o=[],s=this.findMostDistantPointFromBaseLine(t,a);return s.maxPoint?(o=o.concat(this.buildConvexHull([t[0],s.maxPoint],s.newPoints)),o=o.concat(this.buildConvexHull([s.maxPoint,t[1]],s.newPoints)),o):[t[0]]},getConvexHull:function(t){var a=!1,o=!1,s=!1,h=!1,p=null,m=null,w=null,b=null,P=null,_=null,T;for(T=t.length-1;T>=0;T--){var D=t[T];(a===!1||D.lat>a)&&(p=D,a=D.lat),(o===!1||D.lat<o)&&(m=D,o=D.lat),(s===!1||D.lng>s)&&(w=D,s=D.lng),(h===!1||D.lng<h)&&(b=D,h=D.lng)}o!==a?(_=m,P=p):(_=b,P=w);var q=[].concat(this.buildConvexHull([_,P],t),this.buildConvexHull([P,_],t));return q}}}(),L.MarkerCluster.include({getConvexHull:function(){var t=this.getAllChildMarkers(),a=[],o,s;for(s=t.length-1;s>=0;s--)o=t[s].getLatLng(),a.push(o);return L.QuickHull.getConvexHull(a)}}),L.MarkerCluster.include({_2PI:Math.PI*2,_circleFootSeparation:25,_circleStartAngle:0,_spiralFootSeparation:28,_spiralLengthStart:11,_spiralLengthFactor:5,_circleSpiralSwitchover:9,spiderfy:function(){if(!(this._group._spiderfied===this||this._group._inZoomAnimation)){var t=this.getAllChildMarkers(null,!0),a=this._group,o=a._map,s=o.latLngToLayerPoint(this._latlng),h;this._group._unspiderfy(),this._group._spiderfied=this,this._group.options.spiderfyShapePositions?h=this._group.options.spiderfyShapePositions(t.length,s):t.length>=this._circleSpiralSwitchover?h=this._generatePointsSpiral(t.length,s):(s.y+=10,h=this._generatePointsCircle(t.length,s)),this._animationSpiderfy(t,h)}},unspiderfy:function(t){this._group._inZoomAnimation||(this._animationUnspiderfy(t),this._group._spiderfied=null)},_generatePointsCircle:function(t,a){var o=this._group.options.spiderfyDistanceMultiplier*this._circleFootSeparation*(2+t),s=o/this._2PI,h=this._2PI/t,p=[],m,w;for(s=Math.max(s,35),p.length=t,m=0;m<t;m++)w=this._circleStartAngle+m*h,p[m]=new L.Point(a.x+s*Math.cos(w),a.y+s*Math.sin(w))._round();return p},_generatePointsSpiral:function(t,a){var o=this._group.options.spiderfyDistanceMultiplier,s=o*this._spiralLengthStart,h=o*this._spiralFootSeparation,p=o*this._spiralLengthFactor*this._2PI,m=0,w=[],b;for(w.length=t,b=t;b>=0;b--)b<t&&(w[b]=new L.Point(a.x+s*Math.cos(m),a.y+s*Math.sin(m))._round()),m+=h/s+b*5e-4,s+=p/m;return w},_noanimationUnspiderfy:function(){var t=this._group,a=t._map,o=t._featureGroup,s=this.getAllChildMarkers(null,!0),h,p;for(t._ignoreMove=!0,this.setOpacity(1),p=s.length-1;p>=0;p--)h=s[p],o.removeLayer(h),h._preSpiderfyLatlng&&(h.setLatLng(h._preSpiderfyLatlng),delete h._preSpiderfyLatlng),h.setZIndexOffset&&h.setZIndexOffset(0),h._spiderLeg&&(a.removeLayer(h._spiderLeg),delete h._spiderLeg);t.fire("unspiderfied",{cluster:this,markers:s}),t._ignoreMove=!1,t._spiderfied=null}}),L.MarkerClusterNonAnimated=L.MarkerCluster.extend({_animationSpiderfy:function(t,a){var o=this._group,s=o._map,h=o._featureGroup,p=this._group.options.spiderLegPolylineOptions,m,w,b,P;for(o._ignoreMove=!0,m=0;m<t.length;m++)P=s.layerPointToLatLng(a[m]),w=t[m],b=new L.Polyline([this._latlng,P],p),s.addLayer(b),w._spiderLeg=b,w._preSpiderfyLatlng=w._latlng,w.setLatLng(P),w.setZIndexOffset&&w.setZIndexOffset(1e6),h.addLayer(w);this.setOpacity(.3),o._ignoreMove=!1,o.fire("spiderfied",{cluster:this,markers:t})},_animationUnspiderfy:function(){this._noanimationUnspiderfy()}}),L.MarkerCluster.include({_animationSpiderfy:function(t,a){var o=this,s=this._group,h=s._map,p=s._featureGroup,m=this._latlng,w=h.latLngToLayerPoint(m),b=L.Path.SVG,P=L.extend({},this._group.options.spiderLegPolylineOptions),_=P.opacity,T,D,q,oe,W,X;for(_===void 0&&(_=L.MarkerClusterGroup.prototype.options.spiderLegPolylineOptions.opacity),b?(P.opacity=0,P.className=(P.className||"")+" leaflet-cluster-spider-leg"):P.opacity=_,s._ignoreMove=!0,T=0;T<t.length;T++)D=t[T],X=h.layerPointToLatLng(a[T]),q=new L.Polyline([m,X],P),h.addLayer(q),D._spiderLeg=q,b&&(oe=q._path,W=oe.getTotalLength()+.1,oe.style.strokeDasharray=W,oe.style.strokeDashoffset=W),D.setZIndexOffset&&D.setZIndexOffset(1e6),D.clusterHide&&D.clusterHide(),p.addLayer(D),D._setPos&&D._setPos(w);for(s._forceLayout(),s._animationStart(),T=t.length-1;T>=0;T--)X=h.layerPointToLatLng(a[T]),D=t[T],D._preSpiderfyLatlng=D._latlng,D.setLatLng(X),D.clusterShow&&D.clusterShow(),b&&(q=D._spiderLeg,oe=q._path,oe.style.strokeDashoffset=0,q.setStyle({opacity:_}));this.setOpacity(.3),s._ignoreMove=!1,setTimeout(function(){s._animationEnd(),s.fire("spiderfied",{cluster:o,markers:t})},200)},_animationUnspiderfy:function(t){var a=this,o=this._group,s=o._map,h=o._featureGroup,p=t?s._latLngToNewLayerPoint(this._latlng,t.zoom,t.center):s.latLngToLayerPoint(this._latlng),m=this.getAllChildMarkers(null,!0),w=L.Path.SVG,b,P,_,T,D,q;for(o._ignoreMove=!0,o._animationStart(),this.setOpacity(1),P=m.length-1;P>=0;P--)b=m[P],b._preSpiderfyLatlng&&(b.closePopup(),b.setLatLng(b._preSpiderfyLatlng),delete b._preSpiderfyLatlng,q=!0,b._setPos&&(b._setPos(p),q=!1),b.clusterHide&&(b.clusterHide(),q=!1),q&&h.removeLayer(b),w&&(_=b._spiderLeg,T=_._path,D=T.getTotalLength()+.1,T.style.strokeDashoffset=D,_.setStyle({opacity:0})));o._ignoreMove=!1,setTimeout(function(){var oe=0;for(P=m.length-1;P>=0;P--)b=m[P],b._spiderLeg&&oe++;for(P=m.length-1;P>=0;P--)b=m[P],b._spiderLeg&&(b.clusterShow&&b.clusterShow(),b.setZIndexOffset&&b.setZIndexOffset(0),oe>1&&h.removeLayer(b),s.removeLayer(b._spiderLeg),delete b._spiderLeg);o._animationEnd(),o.fire("unspiderfied",{cluster:a,markers:m})},200)}}),L.MarkerClusterGroup.include({_spiderfied:null,unspiderfy:function(){this._unspiderfy.apply(this,arguments)},_spiderfierOnAdd:function(){this._map.on("click",this._unspiderfyWrapper,this),this._map.options.zoomAnimation&&this._map.on("zoomstart",this._unspiderfyZoomStart,this),this._map.on("zoomend",this._noanimationUnspiderfy,this),L.Browser.touch||this._map.getRenderer(this)},_spiderfierOnRemove:function(){this._map.off("click",this._unspiderfyWrapper,this),this._map.off("zoomstart",this._unspiderfyZoomStart,this),this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._map.off("zoomend",this._noanimationUnspiderfy,this),this._noanimationUnspiderfy()},_unspiderfyZoomStart:function(){!this._map||this._map.on("zoomanim",this._unspiderfyZoomAnim,this)},_unspiderfyZoomAnim:function(t){L.DomUtil.hasClass(this._map._mapPane,"leaflet-touching")||(this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._unspiderfy(t))},_unspiderfyWrapper:function(){this._unspiderfy()},_unspiderfy:function(t){this._spiderfied&&this._spiderfied.unspiderfy(t)},_noanimationUnspiderfy:function(){this._spiderfied&&this._spiderfied._noanimationUnspiderfy()},_unspiderfyLayer:function(t){t._spiderLeg&&(this._featureGroup.removeLayer(t),t.clusterShow&&t.clusterShow(),t.setZIndexOffset&&t.setZIndexOffset(0),this._map.removeLayer(t._spiderLeg),delete t._spiderLeg)}}),L.MarkerClusterGroup.include({refreshClusters:function(t){return t?t instanceof L.MarkerClusterGroup?t=t._topClusterLevel.getAllChildMarkers():t instanceof L.LayerGroup?t=t._layers:t instanceof L.MarkerCluster?t=t.getAllChildMarkers():t instanceof L.Marker&&(t=[t]):t=this._topClusterLevel.getAllChildMarkers(),this._flagParentsIconsNeedUpdate(t),this._refreshClustersIcons(),this.options.singleMarkerMode&&this._refreshSingleMarkerModeMarkers(t),this},_flagParentsIconsNeedUpdate:function(t){var a,o;for(a in t)for(o=t[a].__parent;o;)o._iconNeedsUpdate=!0,o=o.__parent},_refreshSingleMarkerModeMarkers:function(t){var a,o;for(a in t)o=t[a],this.hasLayer(o)&&o.setIcon(this._overrideMarkerIcon(o))}}),L.Marker.include({refreshIconOptions:function(t,a){var o=this.options.icon;return L.setOptions(o,t),this.setIcon(o),a&&this.__parent&&this.__parent._group.refreshClusters(this),this}}),y.MarkerClusterGroup=C,y.MarkerCluster=x,Object.defineProperty(y,"__esModule",{value:!0})})})(Jn,Jn.exports);var ea={exports:{}};(function(i,d){L.ResponsivePopup=L.Popup.extend({options:{hasTip:!0},_initLayout:function(){var y="leaflet-popup",C=this._container=L.DomUtil.create("div",y+" "+(this.options.className||"")+" leaflet-zoom-animated"),x=this._wrapper=L.DomUtil.create("div",y+"-content-wrapper",C);if(this._contentNode=L.DomUtil.create("div",y+"-content",x),L.DomEvent.disableClickPropagation(C),L.DomEvent.disableScrollPropagation(this._contentNode),L.DomEvent.on(C,"contextmenu",L.DomEvent.stopPropagation),this._tipContainer=L.DomUtil.create("div",y+"-tip-container",C),this.options.hasTip||(this._tipContainer.style.visibility="hidden"),this._tip=L.DomUtil.create("div",y+"-tip",this._tipContainer),this.options.closeButton){var t=this._closeButton=L.DomUtil.create("a",y+"-close-button",C);t.setAttribute("role","button"),t.setAttribute("aria-label","Close popup"),t.href="#close",t.innerHTML='<span aria-hidden="true">&#215;</span>',L.DomEvent.on(t,"click",function(a){L.DomEvent.preventDefault(a),this.close()},this)}},_updatePosition:function(){if(!!this._map){var y=this._map.latLngToLayerPoint(this._latlng),C=this._map.layerPointToContainerPoint(y),x=this._container.offsetWidth,t=this._container.offsetHeight,a=L.point(this.options.autoPanPadding),o=L.point(this.options.autoPanPaddingTopLeft||a),s=L.point(this.options.autoPanPaddingBottomRight||a),h=this._map.getSize(),p=this._getAnchor(),m=L.point(this.options.offset),w=11,b=22,P=12,_=Math.abs(m.x),T=Math.abs(m.y);this.options.hasTip&&(_+=w,T+=w,L.DomUtil.removeClass(this._container,"leaflet-resp-popup-north"),L.DomUtil.removeClass(this._container,"leaflet-resp-popup-south"),L.DomUtil.removeClass(this._container,"leaflet-resp-popup-east"),L.DomUtil.removeClass(this._container,"leaflet-resp-popup-west"),L.DomUtil.removeClass(this._container,"leaflet-resp-popup-north-east"),L.DomUtil.removeClass(this._container,"leaflet-resp-popup-north-west"),L.DomUtil.removeClass(this._container,"leaflet-resp-popup-south-east"),L.DomUtil.removeClass(this._container,"leaflet-resp-popup-south-west"),L.DomUtil.removeClass(this._container,"leaflet-resp-popup-east-north"),L.DomUtil.removeClass(this._container,"leaflet-resp-popup-east-south"),L.DomUtil.removeClass(this._container,"leaflet-resp-popup-west-north"),L.DomUtil.removeClass(this._container,"leaflet-resp-popup-west-south"));var D=!0,q=!0,oe=!0,W=!0,X=!1;C.y+p.y-T-t-Math.abs(o.y)<0&&(D=!1),C.y+p.y+T+t+Math.abs(s.y)>h.y&&(q=!1),C.x+p.x-_-x-Math.abs(o.x)<0&&(oe=!1),C.x+p.x+_+x+Math.abs(s.x)>h.x&&(W=!1);var A=x/2-p.x,be=t/2-p.y;if(D||q){var ne=C.x+p.x-x/2,Ve=C.x+p.x+x/2;ne<Math.abs(o.x)&&(A=x/2-p.x-Math.abs(o.x)+ne),Ve>h.x-Math.abs(s.x)&&(A=x/2-p.x+Ve-h.x+Math.abs(s.x))}if(oe||W){var Re=C.y+p.y-t/2,We=C.y+p.y+t/2;Re<Math.abs(o.y)&&(be=t/2-p.y-Math.abs(o.y)+Re),We>h.y-Math.abs(s.y)&&(be=t/2-p.y+We-h.y+Math.abs(s.y))}if(D)X=y.subtract(L.point(A,-p.y+t+T,!0)),this.options.hasTip&&(C.x+p.x<o.x+P+b/2?(X.x=y.x+p.x,L.DomUtil.addClass(this._container,"leaflet-resp-popup-north-east"),this._tipContainer.style.top=t+"px",this._tipContainer.style.left="0px"):C.x+p.x>h.x-s.x-P-b/2?(X.x=y.x+p.x-x,L.DomUtil.addClass(this._container,"leaflet-resp-popup-north-west"),this._tipContainer.style.top=t+"px",this._tipContainer.style.left=x+"px"):(L.DomUtil.addClass(this._container,"leaflet-resp-popup-north"),this._tipContainer.style.top=t+"px",this._tipContainer.style.left=y.x+p.x-X.x+"px"));else if(oe)X=y.subtract(L.point(-p.x+x+_,be,!0)),this.options.hasTip&&(C.y+p.y<o.y+P+b/2?(X.y=y.y+p.y,L.DomUtil.addClass(this._container,"leaflet-resp-popup-west-south"),this._tipContainer.style.top="0px",this._tipContainer.style.left=x+"px"):C.y+p.y>h.y-s.y-P-b/2?(X.y=y.y+p.y-t,L.DomUtil.addClass(this._container,"leaflet-resp-popup-west-north"),this._tipContainer.style.top=t+"px",this._tipContainer.style.left=x+"px"):(L.DomUtil.addClass(this._container,"leaflet-resp-popup-west"),this._tipContainer.style.top=y.y+p.y-X.y+"px",this._tipContainer.style.left=x+"px"));else if(q)X=y.subtract(L.point(A,-p.y-T,!0)),this.options.hasTip&&(C.x+p.x<o.x+P+b/2?(X.x=y.x+p.x,L.DomUtil.addClass(this._container,"leaflet-resp-popup-south-east"),this._tipContainer.style.top="0px",this._tipContainer.style.left="0px"):C.x+p.x>h.x-s.x-P-b/2?(X.x=y.x+p.x-x,L.DomUtil.addClass(this._container,"leaflet-resp-popup-south-west"),this._tipContainer.style.top="0px",this._tipContainer.style.left=x+"px"):(L.DomUtil.addClass(this._container,"leaflet-resp-popup-south"),this._tipContainer.style.top="0px",this._tipContainer.style.left=y.x+p.x-X.x+"px"));else if(W)X=y.subtract(L.point(-p.x-_,be,!0)),this.options.hasTip&&(C.y+p.y<o.y+P+b/2?(X.y=y.y+p.y,L.DomUtil.addClass(this._container,"leaflet-resp-popup-east-south"),this._tipContainer.style.top="0px",this._tipContainer.style.left="0px"):C.y+p.y>h.y-s.y-P-b/2?(X.y=y.y+p.y-t,L.DomUtil.addClass(this._container,"leaflet-resp-popup-east-north"),this._tipContainer.style.top=t+"px",this._tipContainer.style.left="0px"):(L.DomUtil.addClass(this._container,"leaflet-resp-popup-east"),this._tipContainer.style.top=y.y+p.y-X.y+"px",this._tipContainer.style.left="0px"));else{var y=this._map.latLngToLayerPoint(this._map.getCenter());X=y.subtract(L.point(x/2,t/2)),this.options.hasTip}C.x<0||C.y<0||C.x>h.x||C.y>h.y,x-Math.abs(o.x)-Math.abs(s.x)>h.x||t-Math.abs(o.y)-Math.abs(s.y)>h.y,L.DomUtil.setPosition(this._container,X)}}}),L.responsivePopup=function(y,C){return new L.ResponsivePopup(y,C)},d.responsivePopup=L.responsivePopup,d.ResponsivePopup=L.ResponsivePopup})(ea,ea.exports);const qe=await Ne();function ta(i){let d=qe.descriptions,y;if(qe.lootPools[i])y=qe.lootPools[i].items;else{const b=document.createElement("section"),P=document.createElement("p"),_=document.createTextNode("Uh oh! This location is missing its loot. Please let us know through Discord.");return P.appendChild(_),b.appendChild(P),b}const C=document.createElement("section"),x=document.createElement("h2");let t="";qe.lootPools[i].tier?t="Tier "+qe.lootPools[i].tier+" Spawn":t="Special Spawn";const a=document.createTextNode(t);x.appendChild(a);const o=document.createElement("table"),s=document.createElement("thead");let h=document.createElement("tr"),p=document.createElement("th"),m=document.createTextNode("Item");p.appendChild(m),h.appendChild(p),p=document.createElement("th"),m=document.createTextNode("Spawn %"),p.appendChild(m),h.appendChild(p),s.appendChild(h);const w=document.createElement("tbody");for(let b in y){let P=[b,y[b].chance];const _=document.createElement("tr");for(let T in P){const D=document.createElement("td");let q;if(parseInt(T)===0)q=d[P[T]].name??"Something went wrong";else if(parseInt(T)===1){let W=jl(P[T]);W===0&&(W="<0.001"),q=W+"%"}else parseInt(T)===2&&(q=P[T]+"\xD7");const oe=document.createTextNode(q);if(parseInt(T)===0&&D.classList.add(d[P[T]].rarity.toLowerCase()),parseInt(T)===0){const W=document.createElement("img");P[T].includes("KeyCard")?P[T].includes("Map01")?W.src="map-images/item-images/Bright_Sands_Key_Card.png":P[T].includes("Map02")?W.src="map-images/item-images/Crescent_Falls_Key_Card.png":P[T].includes("Map03")?W.src="map-images/item-images/Tharis_Island_Key_Card.png":W.src="map-images/item-images/Bright_Sands_Key_Card.png":P[T].includes("Flechette Gun")?W.src="map-images/item-images/ASP_Flechette_Gun.png":W.src=`map-images/item-images/${d[P[T]].name.replace(" - Mk.II","").replace(" - Mk.I","").replaceAll(" ","_")}.png`,W.classList.add("item-image"),D.appendChild(W)}D.appendChild(oe),_.appendChild(D)}w.appendChild(_)}return o.appendChild(s),o.appendChild(w),C.appendChild(x),C.appendChild(o),C}function ku(i,d,y){const C=document.createElement("section"),x=document.createElement("h2"),t=document.createTextNode(Ct[i].toString());if(x.appendChild(t),C.appendChild(x),Qn[i]){const o=document.createElement("p"),s=document.createTextNode(Qn[i].toString());o.appendChild(s),C.appendChild(o)}else{if(i=="keyDoor"){const o=Zl[d];if(o){const s=ra(o);C.appendChild(s)}else if(qe.descriptions[d]!=null){const s=ra(qe.descriptions[d]);C.appendChild(s)}else C.append("Something went wrong...")}if(i=="DeadDrop"){var a=Hl[d];if(a==null&&(a={ingame:d}),a){const o=wu(a);C.appendChild(o)}else C.append("Something went wrong...")}}return C}function ra(i){const d=document.createElement("div"),y=document.createElement("h3"),C=document.createTextNode(i.name);y.appendChild(C),d.appendChild(y);let x=document.createElement("p"),t=document.createTextNode("Rarity: "+i.rarity);return x.appendChild(t),d.appendChild(x),x=document.createElement("p"),t=document.createTextNode("Description: "+i.description),x.appendChild(t),d.appendChild(x),d}function wu(i){const d=document.createElement("div"),y=document.createElement("h3"),C=document.createTextNode(i.ingame);y.appendChild(C),d.appendChild(y);let x=document.createElement("p"),t=document.createTextNode("Description: "+i.description);return x.appendChild(t),d.appendChild(x),d}let Ue={};function Mu(){return Ue}async function $u(){const i=await Ne();for(var d in i.locations){Ue[d]||(Ue[d]={});for(var y in i.locations[d]){if(y=="other"){for(let x in i.locations[d][y])C(d,x,i.locations[d][y][x]);continue}C(d,y,i.locations[d][y])}}function C(x,t,a){let o=ce.layerGroup(),s=ce.icon({iconUrl:`map-images/marker-icons/${t}.png`,iconSize:[25,25],className:"marker"});for(let h in a){let p=new mr.exports.Marker(a[h].location,{riseOnHover:!0,icon:s});o.addLayer(p);let m=ce.responsivePopup().setContent("Placeholder");p.bindPopup(m),p.on("click",sa),p.data=a[h].lootPool,p.type=t,p.location=a[h].location;let w=a[h].rawName;w&&(w.includes("KeyCard")||w.includes("DeadDrop"))&&(p.rawName=w)}Ue[x][t]=o}}function Su(){return Ue}async function xu(){const i=await Ne();for(var d in i.creatureLocations){Ue[d]||(Ue[d]={});for(var y in i.creatureLocations[d])C(d,y,i.creatureLocations[d][y])}function C(x,t,a){let o=ce.layerGroup(),s="";t.includes("Beetle")?t.includes("Acid")?s="map-images/item-images/Acid_Tick.png":s="map-images/item-images/Blast_Tick.png":Dt[t]!=null?s=`map-images/item-images/${Dt[t].replaceAll(" ","_")}_Head.png`:s=`map-images/item-images/${t.replaceAll(" ","_")}_Head.png`;let h=ce.icon({iconUrl:s,iconSize:[25,25],className:"marker"});for(let p in a){let m=new mr.exports.Marker(a[p].location,{riseOnHover:!0,icon:h});o.addLayer(m)}Ue[x][t]=o}}let _t={},oa={};function vt(){return _t}function na(){return oa}const gt=await Ne();async function mt(){Gt.get()&&(_t={}),_t[re.get()]||(_t[re.get()]={});for(let d in gt.itemSpawns[re.get()]){if(!Le.get().includes(d))continue;let y;if(Lt.get()){let C=[];const x=gt.itemSpawns[re.get()][d];for(let t in x){const a=x[t].lootPool;if(!a)continue;const o=gt.lootPools[a].items;if(!o)continue;const s=o[d];!s||s>=Lt.get()&&C.push(x[t])}y=C}else y=gt.itemSpawns[re.get()][d];oa[d]=y.length,i(re.get().toString(),d,y)}function i(d,y,C){let x=ce.markerClusterGroup({showCoverageOnHover:!1,spiderfyOnMaxZoom:!1,disableClusteringAtZoom:Gt.get()?-10:5,iconCreateFunction:function(o){let s=o.getChildCount(),h=" marker-cluster-";return s<5?h+="uncommon":s<15?h+="rare":s<45?h+="epic":h+="legendary",new ce.DivIcon({html:"<div><span>"+s+"</span></div>",className:"marker-cluster"+h,iconSize:new ce.Point(20,20)})}}),t;y?.includes("Map01_KeyCard")?t="Bright_Sands_Key_Card.png":y?.includes("Map02_KeyCard")?t="Crescent_Falls_Key_Card.png":y?.includes("Map03_KeyCard")?t="Tharis_Island_Key_Card.png":t=gt.descriptions[y].icon.replace(" - Mk.II","").replace(" - Mk.I","").replaceAll(" ","_").replaceAll("#","%23");let a=ce.icon({iconUrl:`map-images/item-images/${t}`,iconSize:[25,25],className:"marker"});for(let o in C){let s=new mr.exports.Marker(C[o].location,{riseOnHover:!0,icon:a});s.bindPopup("Placeholder!"),s.on("click",sa),s.data=C[o].lootPool,s.options.title=C[o].lootPool,x.addLayer(s)}_t[d][y]=x}}function sa(i){let d=i.target.getPopup(),y=i.target.type??null,C=i.target.rawName??null,x=i.target.data;if(i.target.location,y)if(vr.includes(y)){const t=ku(y,C);d.setContent(t)}else{const t=ta(x);d.setContent(t)}else{const t=ta(x);d.setContent(t)}}var la={exports:{}};/**
 * chroma.js - JavaScript library for color conversions
 *
 * Copyright (c) 2011-2019, Gregor Aisch
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice, this
 * list of conditions and the following disclaimer.
 *
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 * this list of conditions and the following disclaimer in the documentation
 * and/or other materials provided with the distribution.
 *
 * 3. The name Gregor Aisch may not be used to endorse or promote products
 * derived from this software without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL GREGOR AISCH OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
 * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
 * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY
 * OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
 * EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 * -------------------------------------------------------
 *
 * chroma.js includes colors from colorbrewer2.org, which are released under
 * the following license:
 *
 * Copyright (c) 2002 Cynthia Brewer, Mark Harrower,
 * and The Pennsylvania State University.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing,
 * software distributed under the License is distributed on an
 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,
 * either express or implied. See the License for the specific
 * language governing permissions and limitations under the License.
 *
 * ------------------------------------------------------
 *
 * Named colors are taken from X11 Color Names.
 * http://www.w3.org/TR/css3-color/#svg-color
 *
 * @preserve
 */(function(i,d){(function(y,C){i.exports=C()})(ia,function(){for(var y=function(e,r,n){return r===void 0&&(r=0),n===void 0&&(n=1),e<r?r:e>n?n:e},C=y,x=function(e){e._clipped=!1,e._unclipped=e.slice(0);for(var r=0;r<=3;r++)r<3?((e[r]<0||e[r]>255)&&(e._clipped=!0),e[r]=C(e[r],0,255)):r===3&&(e[r]=C(e[r],0,1));return e},t={},a=0,o=["Boolean","Number","String","Function","Array","Date","RegExp","Undefined","Null"];a<o.length;a+=1){var s=o[a];t["[object "+s+"]"]=s.toLowerCase()}var h=function(e){return t[Object.prototype.toString.call(e)]||"object"},p=h,m=function(e,r){return r===void 0&&(r=null),e.length>=3?Array.prototype.slice.call(e):p(e[0])=="object"&&r?r.split("").filter(function(n){return e[0][n]!==void 0}).map(function(n){return e[0][n]}):e[0]},w=h,b=function(e){if(e.length<2)return null;var r=e.length-1;return w(e[r])=="string"?e[r].toLowerCase():null},P=Math.PI,_={clip_rgb:x,limit:y,type:h,unpack:m,last:b,PI:P,TWOPI:P*2,PITHIRD:P/3,DEG2RAD:P/180,RAD2DEG:180/P},T={format:{},autodetect:[]},D=_.last,q=_.clip_rgb,oe=_.type,W=T,X=function(){for(var r=[],n=arguments.length;n--;)r[n]=arguments[n];var l=this;if(oe(r[0])==="object"&&r[0].constructor&&r[0].constructor===this.constructor)return r[0];var c=D(r),f=!1;if(!c){f=!0,W.sorted||(W.autodetect=W.autodetect.sort(function(M,I){return I.p-M.p}),W.sorted=!0);for(var u=0,v=W.autodetect;u<v.length;u+=1){var g=v[u];if(c=g.test.apply(g,r),c)break}}if(W.format[c]){var k=W.format[c].apply(null,f?r:r.slice(0,-1));l._rgb=q(k)}else throw new Error("unknown format: "+r);l._rgb.length===3&&l._rgb.push(1)};X.prototype.toString=function(){return oe(this.hex)=="function"?this.hex():"["+this._rgb.join(",")+"]"};var A=X,be=function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];return new(Function.prototype.bind.apply(be.Color,[null].concat(e)))};be.Color=A,be.version="2.4.2";var ne=be,Ve=_.unpack,Re=Math.max,We=function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];var n=Ve(e,"rgb"),l=n[0],c=n[1],f=n[2];l=l/255,c=c/255,f=f/255;var u=1-Re(l,Re(c,f)),v=u<1?1/(1-u):0,g=(1-l-u)*v,k=(1-c-u)*v,M=(1-f-u)*v;return[g,k,M,u]},B=We,le=_.unpack,ge=function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];e=le(e,"cmyk");var n=e[0],l=e[1],c=e[2],f=e[3],u=e.length>4?e[4]:1;return f===1?[0,0,0,u]:[n>=1?0:255*(1-n)*(1-f),l>=1?0:255*(1-l)*(1-f),c>=1?0:255*(1-c)*(1-f),u]},fa=ge,ha=ne,br=A,yr=T,da=_.unpack,pa=_.type,va=B;br.prototype.cmyk=function(){return va(this._rgb)},ha.cmyk=function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];return new(Function.prototype.bind.apply(br,[null].concat(e,["cmyk"])))},yr.format.cmyk=fa,yr.autodetect.push({p:2,test:function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];if(e=da(e,"cmyk"),pa(e)==="array"&&e.length===4)return"cmyk"}});var ga=_.unpack,ma=_.last,Ft=function(e){return Math.round(e*100)/100},_a=function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];var n=ga(e,"hsla"),l=ma(e)||"lsa";return n[0]=Ft(n[0]||0),n[1]=Ft(n[1]*100)+"%",n[2]=Ft(n[2]*100)+"%",l==="hsla"||n.length>3&&n[3]<1?(n[3]=n.length>3?n[3]:1,l="hsla"):n.length=3,l+"("+n.join(",")+")"},ba=_a,ya=_.unpack,La=function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];e=ya(e,"rgba");var n=e[0],l=e[1],c=e[2];n/=255,l/=255,c/=255;var f=Math.min(n,l,c),u=Math.max(n,l,c),v=(u+f)/2,g,k;return u===f?(g=0,k=Number.NaN):g=v<.5?(u-f)/(u+f):(u-f)/(2-u-f),n==u?k=(l-c)/(u-f):l==u?k=2+(c-n)/(u-f):c==u&&(k=4+(n-l)/(u-f)),k*=60,k<0&&(k+=360),e.length>3&&e[3]!==void 0?[k,g,v,e[3]]:[k,g,v]},Lr=La,Ca=_.unpack,ka=_.last,wa=ba,Ma=Lr,At=Math.round,$a=function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];var n=Ca(e,"rgba"),l=ka(e)||"rgb";return l.substr(0,3)=="hsl"?wa(Ma(n),l):(n[0]=At(n[0]),n[1]=At(n[1]),n[2]=At(n[2]),(l==="rgba"||n.length>3&&n[3]<1)&&(n[3]=n.length>3?n[3]:1,l="rgba"),l+"("+n.slice(0,l==="rgb"?3:4).join(",")+")")},Sa=$a,xa=_.unpack,Bt=Math.round,Pa=function(){for(var e,r=[],n=arguments.length;n--;)r[n]=arguments[n];r=xa(r,"hsl");var l=r[0],c=r[1],f=r[2],u,v,g;if(c===0)u=v=g=f*255;else{var k=[0,0,0],M=[0,0,0],I=f<.5?f*(1+c):f+c-f*c,$=2*f-I,N=l/360;k[0]=N+1/3,k[1]=N,k[2]=N-1/3;for(var O=0;O<3;O++)k[O]<0&&(k[O]+=1),k[O]>1&&(k[O]-=1),6*k[O]<1?M[O]=$+(I-$)*6*k[O]:2*k[O]<1?M[O]=I:3*k[O]<2?M[O]=$+(I-$)*(2/3-k[O])*6:M[O]=$;e=[Bt(M[0]*255),Bt(M[1]*255),Bt(M[2]*255)],u=e[0],v=e[1],g=e[2]}return r.length>3?[u,v,g,r[3]]:[u,v,g,1]},Cr=Pa,kr=Cr,wr=T,Mr=/^rgb\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*\)$/,$r=/^rgba\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*,\s*([01]|[01]?\.\d+)\)$/,Sr=/^rgb\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,xr=/^rgba\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,Pr=/^hsl\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,Ir=/^hsla\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,Tr=Math.round,Or=function(e){e=e.toLowerCase().trim();var r;if(wr.format.named)try{return wr.format.named(e)}catch{}if(r=e.match(Mr)){for(var n=r.slice(1,4),l=0;l<3;l++)n[l]=+n[l];return n[3]=1,n}if(r=e.match($r)){for(var c=r.slice(1,5),f=0;f<4;f++)c[f]=+c[f];return c}if(r=e.match(Sr)){for(var u=r.slice(1,4),v=0;v<3;v++)u[v]=Tr(u[v]*2.55);return u[3]=1,u}if(r=e.match(xr)){for(var g=r.slice(1,5),k=0;k<3;k++)g[k]=Tr(g[k]*2.55);return g[3]=+g[3],g}if(r=e.match(Pr)){var M=r.slice(1,4);M[1]*=.01,M[2]*=.01;var I=kr(M);return I[3]=1,I}if(r=e.match(Ir)){var $=r.slice(1,4);$[1]*=.01,$[2]*=.01;var N=kr($);return N[3]=+r[4],N}};Or.test=function(e){return Mr.test(e)||$r.test(e)||Sr.test(e)||xr.test(e)||Pr.test(e)||Ir.test(e)};var Ia=Or,Ta=ne,Nr=A,Er=T,Oa=_.type,Na=Sa,Gr=Ia;Nr.prototype.css=function(e){return Na(this._rgb,e)},Ta.css=function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];return new(Function.prototype.bind.apply(Nr,[null].concat(e,["css"])))},Er.format.css=Gr,Er.autodetect.push({p:5,test:function(e){for(var r=[],n=arguments.length-1;n-- >0;)r[n]=arguments[n+1];if(!r.length&&Oa(e)==="string"&&Gr.test(e))return"css"}});var Dr=A,Ea=ne,Ga=T,Da=_.unpack;Ga.format.gl=function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];var n=Da(e,"rgba");return n[0]*=255,n[1]*=255,n[2]*=255,n},Ea.gl=function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];return new(Function.prototype.bind.apply(Dr,[null].concat(e,["gl"])))},Dr.prototype.gl=function(){var e=this._rgb;return[e[0]/255,e[1]/255,e[2]/255,e[3]]};var Fa=_.unpack,Aa=function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];var n=Fa(e,"rgb"),l=n[0],c=n[1],f=n[2],u=Math.min(l,c,f),v=Math.max(l,c,f),g=v-u,k=g*100/255,M=u/(255-g)*100,I;return g===0?I=Number.NaN:(l===v&&(I=(c-f)/g),c===v&&(I=2+(f-l)/g),f===v&&(I=4+(l-c)/g),I*=60,I<0&&(I+=360)),[I,k,M]},Ba=Aa,Ua=_.unpack,Ra=Math.floor,za=function(){for(var e,r,n,l,c,f,u=[],v=arguments.length;v--;)u[v]=arguments[v];u=Ua(u,"hcg");var g=u[0],k=u[1],M=u[2],I,$,N;M=M*255;var O=k*255;if(k===0)I=$=N=M;else{g===360&&(g=0),g>360&&(g-=360),g<0&&(g+=360),g/=60;var U=Ra(g),Z=g-U,j=M*(1-k),K=j+O*(1-Z),de=j+O*Z,he=j+O;switch(U){case 0:e=[he,de,j],I=e[0],$=e[1],N=e[2];break;case 1:r=[K,he,j],I=r[0],$=r[1],N=r[2];break;case 2:n=[j,he,de],I=n[0],$=n[1],N=n[2];break;case 3:l=[j,K,he],I=l[0],$=l[1],N=l[2];break;case 4:c=[de,j,he],I=c[0],$=c[1],N=c[2];break;case 5:f=[he,j,K],I=f[0],$=f[1],N=f[2];break}}return[I,$,N,u.length>3?u[3]:1]},Za=za,Ha=_.unpack,qa=_.type,ja=ne,Fr=A,Ar=T,Va=Ba;Fr.prototype.hcg=function(){return Va(this._rgb)},ja.hcg=function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];return new(Function.prototype.bind.apply(Fr,[null].concat(e,["hcg"])))},Ar.format.hcg=Za,Ar.autodetect.push({p:1,test:function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];if(e=Ha(e,"hcg"),qa(e)==="array"&&e.length===3)return"hcg"}});var Wa=_.unpack,Xa=_.last,kt=Math.round,Ya=function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];var n=Wa(e,"rgba"),l=n[0],c=n[1],f=n[2],u=n[3],v=Xa(e)||"auto";u===void 0&&(u=1),v==="auto"&&(v=u<1?"rgba":"rgb"),l=kt(l),c=kt(c),f=kt(f);var g=l<<16|c<<8|f,k="000000"+g.toString(16);k=k.substr(k.length-6);var M="0"+kt(u*255).toString(16);switch(M=M.substr(M.length-2),v.toLowerCase()){case"rgba":return"#"+k+M;case"argb":return"#"+M+k;default:return"#"+k}},Br=Ya,Ka=/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,Qa=/^#?([A-Fa-f0-9]{8}|[A-Fa-f0-9]{4})$/,Ja=function(e){if(e.match(Ka)){(e.length===4||e.length===7)&&(e=e.substr(1)),e.length===3&&(e=e.split(""),e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]);var r=parseInt(e,16),n=r>>16,l=r>>8&255,c=r&255;return[n,l,c,1]}if(e.match(Qa)){(e.length===5||e.length===9)&&(e=e.substr(1)),e.length===4&&(e=e.split(""),e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]+e[3]+e[3]);var f=parseInt(e,16),u=f>>24&255,v=f>>16&255,g=f>>8&255,k=Math.round((f&255)/255*100)/100;return[u,v,g,k]}throw new Error("unknown hex color: "+e)},Ur=Ja,ei=ne,Rr=A,ti=_.type,zr=T,ri=Br;Rr.prototype.hex=function(e){return ri(this._rgb,e)},ei.hex=function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];return new(Function.prototype.bind.apply(Rr,[null].concat(e,["hex"])))},zr.format.hex=Ur,zr.autodetect.push({p:4,test:function(e){for(var r=[],n=arguments.length-1;n-- >0;)r[n]=arguments[n+1];if(!r.length&&ti(e)==="string"&&[3,4,5,6,7,8,9].indexOf(e.length)>=0)return"hex"}});var ni=_.unpack,Zr=_.TWOPI,ai=Math.min,ii=Math.sqrt,oi=Math.acos,si=function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];var n=ni(e,"rgb"),l=n[0],c=n[1],f=n[2];l/=255,c/=255,f/=255;var u,v=ai(l,c,f),g=(l+c+f)/3,k=g>0?1-v/g:0;return k===0?u=NaN:(u=(l-c+(l-f))/2,u/=ii((l-c)*(l-c)+(l-f)*(c-f)),u=oi(u),f>c&&(u=Zr-u),u/=Zr),[u*360,k,g]},li=si,ui=_.unpack,Ut=_.limit,Xe=_.TWOPI,Rt=_.PITHIRD,Ye=Math.cos,ci=function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];e=ui(e,"hsi");var n=e[0],l=e[1],c=e[2],f,u,v;return isNaN(n)&&(n=0),isNaN(l)&&(l=0),n>360&&(n-=360),n<0&&(n+=360),n/=360,n<1/3?(v=(1-l)/3,f=(1+l*Ye(Xe*n)/Ye(Rt-Xe*n))/3,u=1-(v+f)):n<2/3?(n-=1/3,f=(1-l)/3,u=(1+l*Ye(Xe*n)/Ye(Rt-Xe*n))/3,v=1-(f+u)):(n-=2/3,u=(1-l)/3,v=(1+l*Ye(Xe*n)/Ye(Rt-Xe*n))/3,f=1-(u+v)),f=Ut(c*f*3),u=Ut(c*u*3),v=Ut(c*v*3),[f*255,u*255,v*255,e.length>3?e[3]:1]},fi=ci,hi=_.unpack,di=_.type,pi=ne,Hr=A,qr=T,vi=li;Hr.prototype.hsi=function(){return vi(this._rgb)},pi.hsi=function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];return new(Function.prototype.bind.apply(Hr,[null].concat(e,["hsi"])))},qr.format.hsi=fi,qr.autodetect.push({p:2,test:function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];if(e=hi(e,"hsi"),di(e)==="array"&&e.length===3)return"hsi"}});var gi=_.unpack,mi=_.type,_i=ne,jr=A,Vr=T,bi=Lr;jr.prototype.hsl=function(){return bi(this._rgb)},_i.hsl=function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];return new(Function.prototype.bind.apply(jr,[null].concat(e,["hsl"])))},Vr.format.hsl=Cr,Vr.autodetect.push({p:2,test:function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];if(e=gi(e,"hsl"),mi(e)==="array"&&e.length===3)return"hsl"}});var yi=_.unpack,Li=Math.min,Ci=Math.max,ki=function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];e=yi(e,"rgb");var n=e[0],l=e[1],c=e[2],f=Li(n,l,c),u=Ci(n,l,c),v=u-f,g,k,M;return M=u/255,u===0?(g=Number.NaN,k=0):(k=v/u,n===u&&(g=(l-c)/v),l===u&&(g=2+(c-n)/v),c===u&&(g=4+(n-l)/v),g*=60,g<0&&(g+=360)),[g,k,M]},wi=ki,Mi=_.unpack,$i=Math.floor,Si=function(){for(var e,r,n,l,c,f,u=[],v=arguments.length;v--;)u[v]=arguments[v];u=Mi(u,"hsv");var g=u[0],k=u[1],M=u[2],I,$,N;if(M*=255,k===0)I=$=N=M;else{g===360&&(g=0),g>360&&(g-=360),g<0&&(g+=360),g/=60;var O=$i(g),U=g-O,Z=M*(1-k),j=M*(1-k*U),K=M*(1-k*(1-U));switch(O){case 0:e=[M,K,Z],I=e[0],$=e[1],N=e[2];break;case 1:r=[j,M,Z],I=r[0],$=r[1],N=r[2];break;case 2:n=[Z,M,K],I=n[0],$=n[1],N=n[2];break;case 3:l=[Z,j,M],I=l[0],$=l[1],N=l[2];break;case 4:c=[K,Z,M],I=c[0],$=c[1],N=c[2];break;case 5:f=[M,Z,j],I=f[0],$=f[1],N=f[2];break}}return[I,$,N,u.length>3?u[3]:1]},xi=Si,Pi=_.unpack,Ii=_.type,Ti=ne,Wr=A,Xr=T,Oi=wi;Wr.prototype.hsv=function(){return Oi(this._rgb)},Ti.hsv=function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];return new(Function.prototype.bind.apply(Wr,[null].concat(e,["hsv"])))},Xr.format.hsv=xi,Xr.autodetect.push({p:2,test:function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];if(e=Pi(e,"hsv"),Ii(e)==="array"&&e.length===3)return"hsv"}});var wt={Kn:18,Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452},Ke=wt,Ni=_.unpack,Yr=Math.pow,Ei=function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];var n=Ni(e,"rgb"),l=n[0],c=n[1],f=n[2],u=Gi(l,c,f),v=u[0],g=u[1],k=u[2],M=116*g-16;return[M<0?0:M,500*(v-g),200*(g-k)]},zt=function(e){return(e/=255)<=.04045?e/12.92:Yr((e+.055)/1.055,2.4)},Zt=function(e){return e>Ke.t3?Yr(e,1/3):e/Ke.t2+Ke.t0},Gi=function(e,r,n){e=zt(e),r=zt(r),n=zt(n);var l=Zt((.4124564*e+.3575761*r+.1804375*n)/Ke.Xn),c=Zt((.2126729*e+.7151522*r+.072175*n)/Ke.Yn),f=Zt((.0193339*e+.119192*r+.9503041*n)/Ke.Zn);return[l,c,f]},Kr=Ei,Qe=wt,Di=_.unpack,Fi=Math.pow,Ai=function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];e=Di(e,"lab");var n=e[0],l=e[1],c=e[2],f,u,v,g,k,M;return u=(n+16)/116,f=isNaN(l)?u:u+l/500,v=isNaN(c)?u:u-c/200,u=Qe.Yn*qt(u),f=Qe.Xn*qt(f),v=Qe.Zn*qt(v),g=Ht(3.2404542*f-1.5371385*u-.4985314*v),k=Ht(-.969266*f+1.8760108*u+.041556*v),M=Ht(.0556434*f-.2040259*u+1.0572252*v),[g,k,M,e.length>3?e[3]:1]},Ht=function(e){return 255*(e<=.00304?12.92*e:1.055*Fi(e,1/2.4)-.055)},qt=function(e){return e>Qe.t1?e*e*e:Qe.t2*(e-Qe.t0)},Qr=Ai,Bi=_.unpack,Ui=_.type,Ri=ne,Jr=A,en=T,zi=Kr;Jr.prototype.lab=function(){return zi(this._rgb)},Ri.lab=function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];return new(Function.prototype.bind.apply(Jr,[null].concat(e,["lab"])))},en.format.lab=Qr,en.autodetect.push({p:2,test:function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];if(e=Bi(e,"lab"),Ui(e)==="array"&&e.length===3)return"lab"}});var Zi=_.unpack,Hi=_.RAD2DEG,qi=Math.sqrt,ji=Math.atan2,Vi=Math.round,Wi=function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];var n=Zi(e,"lab"),l=n[0],c=n[1],f=n[2],u=qi(c*c+f*f),v=(ji(f,c)*Hi+360)%360;return Vi(u*1e4)===0&&(v=Number.NaN),[l,u,v]},tn=Wi,Xi=_.unpack,Yi=Kr,Ki=tn,Qi=function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];var n=Xi(e,"rgb"),l=n[0],c=n[1],f=n[2],u=Yi(l,c,f),v=u[0],g=u[1],k=u[2];return Ki(v,g,k)},Ji=Qi,eo=_.unpack,to=_.DEG2RAD,ro=Math.sin,no=Math.cos,ao=function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];var n=eo(e,"lch"),l=n[0],c=n[1],f=n[2];return isNaN(f)&&(f=0),f=f*to,[l,no(f)*c,ro(f)*c]},rn=ao,io=_.unpack,oo=rn,so=Qr,lo=function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];e=io(e,"lch");var n=e[0],l=e[1],c=e[2],f=oo(n,l,c),u=f[0],v=f[1],g=f[2],k=so(u,v,g),M=k[0],I=k[1],$=k[2];return[M,I,$,e.length>3?e[3]:1]},nn=lo,uo=_.unpack,co=nn,fo=function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];var n=uo(e,"hcl").reverse();return co.apply(void 0,n)},ho=fo,po=_.unpack,vo=_.type,an=ne,Mt=A,jt=T,on=Ji;Mt.prototype.lch=function(){return on(this._rgb)},Mt.prototype.hcl=function(){return on(this._rgb).reverse()},an.lch=function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];return new(Function.prototype.bind.apply(Mt,[null].concat(e,["lch"])))},an.hcl=function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];return new(Function.prototype.bind.apply(Mt,[null].concat(e,["hcl"])))},jt.format.lch=nn,jt.format.hcl=ho,["lch","hcl"].forEach(function(e){return jt.autodetect.push({p:2,test:function(){for(var r=[],n=arguments.length;n--;)r[n]=arguments[n];if(r=po(r,e),vo(r)==="array"&&r.length===3)return e}})});var go={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflower:"#6495ed",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},sn=go,mo=A,ln=T,_o=_.type,ct=sn,bo=Ur,yo=Br;mo.prototype.name=function(){for(var e=yo(this._rgb,"rgb"),r=0,n=Object.keys(ct);r<n.length;r+=1){var l=n[r];if(ct[l]===e)return l.toLowerCase()}return e},ln.format.named=function(e){if(e=e.toLowerCase(),ct[e])return bo(ct[e]);throw new Error("unknown color name: "+e)},ln.autodetect.push({p:5,test:function(e){for(var r=[],n=arguments.length-1;n-- >0;)r[n]=arguments[n+1];if(!r.length&&_o(e)==="string"&&ct[e.toLowerCase()])return"named"}});var Lo=_.unpack,Co=function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];var n=Lo(e,"rgb"),l=n[0],c=n[1],f=n[2];return(l<<16)+(c<<8)+f},ko=Co,wo=_.type,Mo=function(e){if(wo(e)=="number"&&e>=0&&e<=16777215){var r=e>>16,n=e>>8&255,l=e&255;return[r,n,l,1]}throw new Error("unknown num color: "+e)},$o=Mo,So=ne,un=A,cn=T,xo=_.type,Po=ko;un.prototype.num=function(){return Po(this._rgb)},So.num=function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];return new(Function.prototype.bind.apply(un,[null].concat(e,["num"])))},cn.format.num=$o,cn.autodetect.push({p:5,test:function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];if(e.length===1&&xo(e[0])==="number"&&e[0]>=0&&e[0]<=16777215)return"num"}});var Io=ne,Vt=A,fn=T,hn=_.unpack,dn=_.type,pn=Math.round;Vt.prototype.rgb=function(e){return e===void 0&&(e=!0),e===!1?this._rgb.slice(0,3):this._rgb.slice(0,3).map(pn)},Vt.prototype.rgba=function(e){return e===void 0&&(e=!0),this._rgb.slice(0,4).map(function(r,n){return n<3?e===!1?r:pn(r):r})},Io.rgb=function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];return new(Function.prototype.bind.apply(Vt,[null].concat(e,["rgb"])))},fn.format.rgb=function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];var n=hn(e,"rgba");return n[3]===void 0&&(n[3]=1),n},fn.autodetect.push({p:3,test:function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];if(e=hn(e,"rgba"),dn(e)==="array"&&(e.length===3||e.length===4&&dn(e[3])=="number"&&e[3]>=0&&e[3]<=1))return"rgb"}});var $t=Math.log,To=function(e){var r=e/100,n,l,c;return r<66?(n=255,l=r<6?0:-155.25485562709179-.44596950469579133*(l=r-2)+104.49216199393888*$t(l),c=r<20?0:-254.76935184120902+.8274096064007395*(c=r-10)+115.67994401066147*$t(c)):(n=351.97690566805693+.114206453784165*(n=r-55)-40.25366309332127*$t(n),l=325.4494125711974+.07943456536662342*(l=r-50)-28.0852963507957*$t(l),c=255),[n,l,c,1]},vn=To,Oo=vn,No=_.unpack,Eo=Math.round,Go=function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];for(var n=No(e,"rgb"),l=n[0],c=n[2],f=1e3,u=4e4,v=.4,g;u-f>v;){g=(u+f)*.5;var k=Oo(g);k[2]/k[0]>=c/l?u=g:f=g}return Eo(g)},Do=Go,Wt=ne,St=A,Xt=T,Fo=Do;St.prototype.temp=St.prototype.kelvin=St.prototype.temperature=function(){return Fo(this._rgb)},Wt.temp=Wt.kelvin=Wt.temperature=function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];return new(Function.prototype.bind.apply(St,[null].concat(e,["temp"])))},Xt.format.temp=Xt.format.kelvin=Xt.format.temperature=vn;var Ao=_.unpack,Yt=Math.cbrt,Bo=Math.pow,Uo=Math.sign,Ro=function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];var n=Ao(e,"rgb"),l=n[0],c=n[1],f=n[2],u=[Kt(l/255),Kt(c/255),Kt(f/255)],v=u[0],g=u[1],k=u[2],M=Yt(.4122214708*v+.5363325363*g+.0514459929*k),I=Yt(.2119034982*v+.6806995451*g+.1073969566*k),$=Yt(.0883024619*v+.2817188376*g+.6299787005*k);return[.2104542553*M+.793617785*I-.0040720468*$,1.9779984951*M-2.428592205*I+.4505937099*$,.0259040371*M+.7827717662*I-.808675766*$]},gn=Ro;function Kt(e){var r=Math.abs(e);return r<.04045?e/12.92:(Uo(e)||1)*Bo((r+.055)/1.055,2.4)}var zo=_.unpack,xt=Math.pow,Zo=Math.sign,Ho=function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];e=zo(e,"lab");var n=e[0],l=e[1],c=e[2],f=xt(n+.3963377774*l+.2158037573*c,3),u=xt(n-.1055613458*l-.0638541728*c,3),v=xt(n-.0894841775*l-1.291485548*c,3);return[255*Qt(4.0767416621*f-3.3077115913*u+.2309699292*v),255*Qt(-1.2684380046*f+2.6097574011*u-.3413193965*v),255*Qt(-.0041960863*f-.7034186147*u+1.707614701*v),e.length>3?e[3]:1]},mn=Ho;function Qt(e){var r=Math.abs(e);return r>.0031308?(Zo(e)||1)*(1.055*xt(r,1/2.4)-.055):e*12.92}var qo=_.unpack,jo=_.type,Vo=ne,_n=A,bn=T,Wo=gn;_n.prototype.oklab=function(){return Wo(this._rgb)},Vo.oklab=function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];return new(Function.prototype.bind.apply(_n,[null].concat(e,["oklab"])))},bn.format.oklab=mn,bn.autodetect.push({p:3,test:function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];if(e=qo(e,"oklab"),jo(e)==="array"&&e.length===3)return"oklab"}});var Xo=_.unpack,Yo=gn,Ko=tn,Qo=function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];var n=Xo(e,"rgb"),l=n[0],c=n[1],f=n[2],u=Yo(l,c,f),v=u[0],g=u[1],k=u[2];return Ko(v,g,k)},Jo=Qo,es=_.unpack,ts=rn,rs=mn,ns=function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];e=es(e,"lch");var n=e[0],l=e[1],c=e[2],f=ts(n,l,c),u=f[0],v=f[1],g=f[2],k=rs(u,v,g),M=k[0],I=k[1],$=k[2];return[M,I,$,e.length>3?e[3]:1]},as=ns,is=_.unpack,os=_.type,ss=ne,yn=A,Ln=T,ls=Jo;yn.prototype.oklch=function(){return ls(this._rgb)},ss.oklch=function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];return new(Function.prototype.bind.apply(yn,[null].concat(e,["oklch"])))},Ln.format.oklch=as,Ln.autodetect.push({p:3,test:function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];if(e=is(e,"oklch"),os(e)==="array"&&e.length===3)return"oklch"}});var Cn=A,us=_.type;Cn.prototype.alpha=function(e,r){return r===void 0&&(r=!1),e!==void 0&&us(e)==="number"?r?(this._rgb[3]=e,this):new Cn([this._rgb[0],this._rgb[1],this._rgb[2],e],"rgb"):this._rgb[3]};var cs=A;cs.prototype.clipped=function(){return this._rgb._clipped||!1};var ze=A,fs=wt;ze.prototype.darken=function(e){e===void 0&&(e=1);var r=this,n=r.lab();return n[0]-=fs.Kn*e,new ze(n,"lab").alpha(r.alpha(),!0)},ze.prototype.brighten=function(e){return e===void 0&&(e=1),this.darken(-e)},ze.prototype.darker=ze.prototype.darken,ze.prototype.brighter=ze.prototype.brighten;var hs=A;hs.prototype.get=function(e){var r=e.split("."),n=r[0],l=r[1],c=this[n]();if(l){var f=n.indexOf(l)-(n.substr(0,2)==="ok"?2:0);if(f>-1)return c[f];throw new Error("unknown channel "+l+" in mode "+n)}else return c};var Je=A,ds=_.type,ps=Math.pow,vs=1e-7,gs=20;Je.prototype.luminance=function(e){if(e!==void 0&&ds(e)==="number"){if(e===0)return new Je([0,0,0,this._rgb[3]],"rgb");if(e===1)return new Je([255,255,255,this._rgb[3]],"rgb");var r=this.luminance(),n="rgb",l=gs,c=function(u,v){var g=u.interpolate(v,.5,n),k=g.luminance();return Math.abs(e-k)<vs||!l--?g:k>e?c(u,g):c(g,v)},f=(r>e?c(new Je([0,0,0]),this):c(this,new Je([255,255,255]))).rgb();return new Je(f.concat([this._rgb[3]]))}return ms.apply(void 0,this._rgb.slice(0,3))};var ms=function(e,r,n){return e=Jt(e),r=Jt(r),n=Jt(n),.2126*e+.7152*r+.0722*n},Jt=function(e){return e/=255,e<=.03928?e/12.92:ps((e+.055)/1.055,2.4)},ye={},kn=A,wn=_.type,Pt=ye,Mn=function(e,r,n){n===void 0&&(n=.5);for(var l=[],c=arguments.length-3;c-- >0;)l[c]=arguments[c+3];var f=l[0]||"lrgb";if(!Pt[f]&&!l.length&&(f=Object.keys(Pt)[0]),!Pt[f])throw new Error("interpolation mode "+f+" is not defined");return wn(e)!=="object"&&(e=new kn(e)),wn(r)!=="object"&&(r=new kn(r)),Pt[f](e,r,n).alpha(e.alpha()+n*(r.alpha()-e.alpha()))},$n=A,_s=Mn;$n.prototype.mix=$n.prototype.interpolate=function(e,r){r===void 0&&(r=.5);for(var n=[],l=arguments.length-2;l-- >0;)n[l]=arguments[l+2];return _s.apply(void 0,[this,e,r].concat(n))};var Sn=A;Sn.prototype.premultiply=function(e){e===void 0&&(e=!1);var r=this._rgb,n=r[3];return e?(this._rgb=[r[0]*n,r[1]*n,r[2]*n,n],this):new Sn([r[0]*n,r[1]*n,r[2]*n,n],"rgb")};var er=A,bs=wt;er.prototype.saturate=function(e){e===void 0&&(e=1);var r=this,n=r.lch();return n[1]+=bs.Kn*e,n[1]<0&&(n[1]=0),new er(n,"lch").alpha(r.alpha(),!0)},er.prototype.desaturate=function(e){return e===void 0&&(e=1),this.saturate(-e)};var xn=A,Pn=_.type;xn.prototype.set=function(e,r,n){n===void 0&&(n=!1);var l=e.split("."),c=l[0],f=l[1],u=this[c]();if(f){var v=c.indexOf(f)-(c.substr(0,2)==="ok"?2:0);if(v>-1){if(Pn(r)=="string")switch(r.charAt(0)){case"+":u[v]+=+r;break;case"-":u[v]+=+r;break;case"*":u[v]*=+r.substr(1);break;case"/":u[v]/=+r.substr(1);break;default:u[v]=+r}else if(Pn(r)==="number")u[v]=r;else throw new Error("unsupported value for Color.set");var g=new xn(u,c);return n?(this._rgb=g._rgb,this):g}throw new Error("unknown channel "+f+" in mode "+c)}else return u};var ys=A,Ls=function(e,r,n){var l=e._rgb,c=r._rgb;return new ys(l[0]+n*(c[0]-l[0]),l[1]+n*(c[1]-l[1]),l[2]+n*(c[2]-l[2]),"rgb")};ye.rgb=Ls;var Cs=A,tr=Math.sqrt,et=Math.pow,ks=function(e,r,n){var l=e._rgb,c=l[0],f=l[1],u=l[2],v=r._rgb,g=v[0],k=v[1],M=v[2];return new Cs(tr(et(c,2)*(1-n)+et(g,2)*n),tr(et(f,2)*(1-n)+et(k,2)*n),tr(et(u,2)*(1-n)+et(M,2)*n),"rgb")};ye.lrgb=ks;var ws=A,Ms=function(e,r,n){var l=e.lab(),c=r.lab();return new ws(l[0]+n*(c[0]-l[0]),l[1]+n*(c[1]-l[1]),l[2]+n*(c[2]-l[2]),"lab")};ye.lab=Ms;var In=A,tt=function(e,r,n,l){var c,f,u,v;l==="hsl"?(u=e.hsl(),v=r.hsl()):l==="hsv"?(u=e.hsv(),v=r.hsv()):l==="hcg"?(u=e.hcg(),v=r.hcg()):l==="hsi"?(u=e.hsi(),v=r.hsi()):l==="lch"||l==="hcl"?(l="hcl",u=e.hcl(),v=r.hcl()):l==="oklch"&&(u=e.oklch().reverse(),v=r.oklch().reverse());var g,k,M,I,$,N;(l.substr(0,1)==="h"||l==="oklch")&&(c=u,g=c[0],M=c[1],$=c[2],f=v,k=f[0],I=f[1],N=f[2]);var O,U,Z,j;return!isNaN(g)&&!isNaN(k)?(k>g&&k-g>180?j=k-(g+360):k<g&&g-k>180?j=k+360-g:j=k-g,U=g+n*j):isNaN(g)?isNaN(k)?U=Number.NaN:(U=k,($==1||$==0)&&l!="hsv"&&(O=I)):(U=g,(N==1||N==0)&&l!="hsv"&&(O=M)),O===void 0&&(O=M+n*(I-M)),Z=$+n*(N-$),l==="oklch"?new In([Z,O,U],l):new In([U,O,Z],l)},$s=tt,Tn=function(e,r,n){return $s(e,r,n,"lch")};ye.lch=Tn,ye.hcl=Tn;var Ss=A,xs=function(e,r,n){var l=e.num(),c=r.num();return new Ss(l+n*(c-l),"num")};ye.num=xs;var Ps=tt,Is=function(e,r,n){return Ps(e,r,n,"hcg")};ye.hcg=Is;var Ts=tt,Os=function(e,r,n){return Ts(e,r,n,"hsi")};ye.hsi=Os;var Ns=tt,Es=function(e,r,n){return Ns(e,r,n,"hsl")};ye.hsl=Es;var Gs=tt,Ds=function(e,r,n){return Gs(e,r,n,"hsv")};ye.hsv=Ds;var Fs=A,As=function(e,r,n){var l=e.oklab(),c=r.oklab();return new Fs(l[0]+n*(c[0]-l[0]),l[1]+n*(c[1]-l[1]),l[2]+n*(c[2]-l[2]),"oklab")};ye.oklab=As;var Bs=tt,Us=function(e,r,n){return Bs(e,r,n,"oklch")};ye.oklch=Us;var rr=A,Rs=_.clip_rgb,nr=Math.pow,ar=Math.sqrt,ir=Math.PI,On=Math.cos,Nn=Math.sin,zs=Math.atan2,Zs=function(e,r,n){r===void 0&&(r="lrgb"),n===void 0&&(n=null);var l=e.length;n||(n=Array.from(new Array(l)).map(function(){return 1}));var c=l/n.reduce(function(U,Z){return U+Z});if(n.forEach(function(U,Z){n[Z]*=c}),e=e.map(function(U){return new rr(U)}),r==="lrgb")return Hs(e,n);for(var f=e.shift(),u=f.get(r),v=[],g=0,k=0,M=0;M<u.length;M++)if(u[M]=(u[M]||0)*n[0],v.push(isNaN(u[M])?0:n[0]),r.charAt(M)==="h"&&!isNaN(u[M])){var I=u[M]/180*ir;g+=On(I)*n[0],k+=Nn(I)*n[0]}var $=f.alpha()*n[0];e.forEach(function(U,Z){var j=U.get(r);$+=U.alpha()*n[Z+1];for(var K=0;K<u.length;K++)if(!isNaN(j[K]))if(v[K]+=n[Z+1],r.charAt(K)==="h"){var de=j[K]/180*ir;g+=On(de)*n[Z+1],k+=Nn(de)*n[Z+1]}else u[K]+=j[K]*n[Z+1]});for(var N=0;N<u.length;N++)if(r.charAt(N)==="h"){for(var O=zs(k/v[N],g/v[N])/ir*180;O<0;)O+=360;for(;O>=360;)O-=360;u[N]=O}else u[N]=u[N]/v[N];return $/=l,new rr(u,r).alpha($>.99999?1:$,!0)},Hs=function(e,r){for(var n=e.length,l=[0,0,0,0],c=0;c<e.length;c++){var f=e[c],u=r[c]/n,v=f._rgb;l[0]+=nr(v[0],2)*u,l[1]+=nr(v[1],2)*u,l[2]+=nr(v[2],2)*u,l[3]+=v[3]*u}return l[0]=ar(l[0]),l[1]=ar(l[1]),l[2]=ar(l[2]),l[3]>.9999999&&(l[3]=1),new rr(Rs(l))},Ce=ne,rt=_.type,qs=Math.pow,or=function(e){var r="rgb",n=Ce("#ccc"),l=0,c=[0,1],f=[],u=[0,0],v=!1,g=[],k=!1,M=0,I=1,$=!1,N={},O=!0,U=1,Z=function(S){if(S=S||["#fff","#000"],S&&rt(S)==="string"&&Ce.brewer&&Ce.brewer[S.toLowerCase()]&&(S=Ce.brewer[S.toLowerCase()]),rt(S)==="array"){S.length===1&&(S=[S[0],S[0]]),S=S.slice(0);for(var F=0;F<S.length;F++)S[F]=Ce(S[F]);f.length=0;for(var z=0;z<S.length;z++)f.push(z/(S.length-1))}return _e(),g=S},j=function(S){if(v!=null){for(var F=v.length-1,z=0;z<F&&S>=v[z];)z++;return z-1}return 0},K=function(S){return S},de=function(S){return S},he=function(S,F){var z,R;if(F==null&&(F=!1),isNaN(S)||S===null)return n;if(F)R=S;else if(v&&v.length>2){var pe=j(S);R=pe/(v.length-2)}else I!==M?R=(S-M)/(I-M):R=1;R=de(R),F||(R=K(R)),U!==1&&(R=qs(R,U)),R=u[0]+R*(1-u[0]-u[1]),R=Math.min(1,Math.max(0,R));var ae=Math.floor(R*1e4);if(O&&N[ae])z=N[ae];else{if(rt(g)==="array")for(var V=0;V<f.length;V++){var Q=f[V];if(R<=Q){z=g[V];break}if(R>=Q&&V===f.length-1){z=g[V];break}if(R>Q&&R<f[V+1]){R=(R-Q)/(f[V+1]-Q),z=Ce.interpolate(g[V],g[V+1],R,r);break}}else rt(g)==="function"&&(z=g(R));O&&(N[ae]=z)}return z},_e=function(){return N={}};Z(e);var H=function(S){var F=Ce(he(S));return k&&F[k]?F[k]():F};return H.classes=function(S){if(S!=null){if(rt(S)==="array")v=S,c=[S[0],S[S.length-1]];else{var F=Ce.analyze(c);S===0?v=[F.min,F.max]:v=Ce.limits(F,"e",S)}return H}return v},H.domain=function(S){if(!arguments.length)return c;M=S[0],I=S[S.length-1],f=[];var F=g.length;if(S.length===F&&M!==I)for(var z=0,R=Array.from(S);z<R.length;z+=1){var pe=R[z];f.push((pe-M)/(I-M))}else{for(var ae=0;ae<F;ae++)f.push(ae/(F-1));if(S.length>2){var V=S.map(function(J,te){return te/(S.length-1)}),Q=S.map(function(J){return(J-M)/(I-M)});Q.every(function(J,te){return V[te]===J})||(de=function(J){if(J<=0||J>=1)return J;for(var te=0;J>=Q[te+1];)te++;var we=(J-Q[te])/(Q[te+1]-Q[te]),De=V[te]+we*(V[te+1]-V[te]);return De})}}return c=[M,I],H},H.mode=function(S){return arguments.length?(r=S,_e(),H):r},H.range=function(S,F){return Z(S),H},H.out=function(S){return k=S,H},H.spread=function(S){return arguments.length?(l=S,H):l},H.correctLightness=function(S){return S==null&&(S=!0),$=S,_e(),$?K=function(F){for(var z=he(0,!0).lab()[0],R=he(1,!0).lab()[0],pe=z>R,ae=he(F,!0).lab()[0],V=z+(R-z)*F,Q=ae-V,J=0,te=1,we=20;Math.abs(Q)>.01&&we-- >0;)(function(){return pe&&(Q*=-1),Q<0?(J=F,F+=(te-F)*.5):(te=F,F+=(J-F)*.5),ae=he(F,!0).lab()[0],Q=ae-V})();return F}:K=function(F){return F},H},H.padding=function(S){return S!=null?(rt(S)==="number"&&(S=[S,S]),u=S,H):u},H.colors=function(S,F){arguments.length<2&&(F="hex");var z=[];if(arguments.length===0)z=g.slice(0);else if(S===1)z=[H(.5)];else if(S>1){var R=c[0],pe=c[1]-R;z=js(0,S,!1).map(function(te){return H(R+te/(S-1)*pe)})}else{e=[];var ae=[];if(v&&v.length>2)for(var V=1,Q=v.length,J=1<=Q;J?V<Q:V>Q;J?V++:V--)ae.push((v[V-1]+v[V])*.5);else ae=c;z=ae.map(function(te){return H(te)})}return Ce[F]&&(z=z.map(function(te){return te[F]()})),z},H.cache=function(S){return S!=null?(O=S,H):O},H.gamma=function(S){return S!=null?(U=S,H):U},H.nodata=function(S){return S!=null?(n=Ce(S),H):n},H};function js(e,r,n){for(var l=[],c=e<r,f=n?c?r+1:r-1:r,u=e;c?u<f:u>f;c?u++:u--)l.push(u);return l}var ft=A,Vs=or,Ws=function(e){for(var r=[1,1],n=1;n<e;n++){for(var l=[1],c=1;c<=r.length;c++)l[c]=(r[c]||0)+r[c-1];r=l}return r},Xs=function(e){var r,n,l,c,f,u,v;if(e=e.map(function($){return new ft($)}),e.length===2)r=e.map(function($){return $.lab()}),f=r[0],u=r[1],c=function($){var N=[0,1,2].map(function(O){return f[O]+$*(u[O]-f[O])});return new ft(N,"lab")};else if(e.length===3)n=e.map(function($){return $.lab()}),f=n[0],u=n[1],v=n[2],c=function($){var N=[0,1,2].map(function(O){return(1-$)*(1-$)*f[O]+2*(1-$)*$*u[O]+$*$*v[O]});return new ft(N,"lab")};else if(e.length===4){var g;l=e.map(function($){return $.lab()}),f=l[0],u=l[1],v=l[2],g=l[3],c=function($){var N=[0,1,2].map(function(O){return(1-$)*(1-$)*(1-$)*f[O]+3*(1-$)*(1-$)*$*u[O]+3*(1-$)*$*$*v[O]+$*$*$*g[O]});return new ft(N,"lab")}}else if(e.length>=5){var k,M,I;k=e.map(function($){return $.lab()}),I=e.length-1,M=Ws(I),c=function($){var N=1-$,O=[0,1,2].map(function(U){return k.reduce(function(Z,j,K){return Z+M[K]*Math.pow(N,I-K)*Math.pow($,K)*j[U]},0)});return new ft(O,"lab")}}else throw new RangeError("No point in running bezier with only one color.");return c},Ys=function(e){var r=Xs(e);return r.scale=function(){return Vs(r)},r},sr=ne,ke=function(e,r,n){if(!ke[n])throw new Error("unknown blend mode "+n);return ke[n](e,r)},Ee=function(e){return function(r,n){var l=sr(n).rgb(),c=sr(r).rgb();return sr.rgb(e(l,c))}},Ge=function(e){return function(r,n){var l=[];return l[0]=e(r[0],n[0]),l[1]=e(r[1],n[1]),l[2]=e(r[2],n[2]),l}},Ks=function(e){return e},Qs=function(e,r){return e*r/255},Js=function(e,r){return e>r?r:e},el=function(e,r){return e>r?e:r},tl=function(e,r){return 255*(1-(1-e/255)*(1-r/255))},rl=function(e,r){return r<128?2*e*r/255:255*(1-2*(1-e/255)*(1-r/255))},nl=function(e,r){return 255*(1-(1-r/255)/(e/255))},al=function(e,r){return e===255?255:(e=255*(r/255)/(1-e/255),e>255?255:e)};ke.normal=Ee(Ge(Ks)),ke.multiply=Ee(Ge(Qs)),ke.screen=Ee(Ge(tl)),ke.overlay=Ee(Ge(rl)),ke.darken=Ee(Ge(Js)),ke.lighten=Ee(Ge(el)),ke.dodge=Ee(Ge(al)),ke.burn=Ee(Ge(nl));for(var il=ke,lr=_.type,ol=_.clip_rgb,sl=_.TWOPI,ll=Math.pow,ul=Math.sin,cl=Math.cos,En=ne,fl=function(e,r,n,l,c){e===void 0&&(e=300),r===void 0&&(r=-1.5),n===void 0&&(n=1),l===void 0&&(l=1),c===void 0&&(c=[0,1]);var f=0,u;lr(c)==="array"?u=c[1]-c[0]:(u=0,c=[c,c]);var v=function(g){var k=sl*((e+120)/360+r*g),M=ll(c[0]+u*g,l),I=f!==0?n[0]+g*f:n,$=I*M*(1-M)/2,N=cl(k),O=ul(k),U=M+$*(-.14861*N+1.78277*O),Z=M+$*(-.29227*N-.90649*O),j=M+$*(1.97294*N);return En(ol([U*255,Z*255,j*255,1]))};return v.start=function(g){return g==null?e:(e=g,v)},v.rotations=function(g){return g==null?r:(r=g,v)},v.gamma=function(g){return g==null?l:(l=g,v)},v.hue=function(g){return g==null?n:(n=g,lr(n)==="array"?(f=n[1]-n[0],f===0&&(n=n[1])):f=0,v)},v.lightness=function(g){return g==null?c:(lr(g)==="array"?(c=g,u=g[1]-g[0]):(c=[g,g],u=0),v)},v.scale=function(){return En.scale(v)},v.hue(n),v},hl=A,dl="0123456789abcdef",pl=Math.floor,vl=Math.random,gl=function(){for(var e="#",r=0;r<6;r++)e+=dl.charAt(pl(vl()*16));return new hl(e,"hex")},ur=h,Gn=Math.log,ml=Math.pow,_l=Math.floor,bl=Math.abs,Dn=function(e,r){r===void 0&&(r=null);var n={min:Number.MAX_VALUE,max:Number.MAX_VALUE*-1,sum:0,values:[],count:0};return ur(e)==="object"&&(e=Object.values(e)),e.forEach(function(l){r&&ur(l)==="object"&&(l=l[r]),l!=null&&!isNaN(l)&&(n.values.push(l),n.sum+=l,l<n.min&&(n.min=l),l>n.max&&(n.max=l),n.count+=1)}),n.domain=[n.min,n.max],n.limits=function(l,c){return Fn(n,l,c)},n},Fn=function(e,r,n){r===void 0&&(r="equal"),n===void 0&&(n=7),ur(e)=="array"&&(e=Dn(e));var l=e.min,c=e.max,f=e.values.sort(function(fr,hr){return fr-hr});if(n===1)return[l,c];var u=[];if(r.substr(0,1)==="c"&&(u.push(l),u.push(c)),r.substr(0,1)==="e"){u.push(l);for(var v=1;v<n;v++)u.push(l+v/n*(c-l));u.push(c)}else if(r.substr(0,1)==="l"){if(l<=0)throw new Error("Logarithmic scales are only possible for values > 0");var g=Math.LOG10E*Gn(l),k=Math.LOG10E*Gn(c);u.push(l);for(var M=1;M<n;M++)u.push(ml(10,g+M/n*(k-g)));u.push(c)}else if(r.substr(0,1)==="q"){u.push(l);for(var I=1;I<n;I++){var $=(f.length-1)*I/n,N=_l($);if(N===$)u.push(f[N]);else{var O=$-N;u.push(f[N]*(1-O)+f[N+1]*O)}}u.push(c)}else if(r.substr(0,1)==="k"){var U,Z=f.length,j=new Array(Z),K=new Array(n),de=!0,he=0,_e=null;_e=[],_e.push(l);for(var H=1;H<n;H++)_e.push(l+H/n*(c-l));for(_e.push(c);de;){for(var S=0;S<n;S++)K[S]=0;for(var F=0;F<Z;F++)for(var z=f[F],R=Number.MAX_VALUE,pe=void 0,ae=0;ae<n;ae++){var V=bl(_e[ae]-z);V<R&&(R=V,pe=ae),K[pe]++,j[F]=pe}for(var Q=new Array(n),J=0;J<n;J++)Q[J]=null;for(var te=0;te<Z;te++)U=j[te],Q[U]===null?Q[U]=f[te]:Q[U]+=f[te];for(var we=0;we<n;we++)Q[we]*=1/K[we];de=!1;for(var De=0;De<n;De++)if(Q[De]!==_e[De]){de=!0;break}_e=Q,he++,he>200&&(de=!1)}for(var Fe={},nt=0;nt<n;nt++)Fe[nt]=[];for(var at=0;at<Z;at++)U=j[at],Fe[U].push(f[at]);for(var Ie=[],Ze=0;Ze<n;Ze++)Ie.push(Fe[Ze][0]),Ie.push(Fe[Ze][Fe[Ze].length-1]);Ie=Ie.sort(function(fr,hr){return fr-hr}),u.push(Ie[0]);for(var ht=1;ht<Ie.length;ht+=2){var He=Ie[ht];!isNaN(He)&&u.indexOf(He)===-1&&u.push(He)}}return u},An={analyze:Dn,limits:Fn},Bn=A,yl=function(e,r){e=new Bn(e),r=new Bn(r);var n=e.luminance(),l=r.luminance();return n>l?(n+.05)/(l+.05):(l+.05)/(n+.05)},Un=A,Pe=Math.sqrt,ue=Math.pow,Ll=Math.min,Cl=Math.max,Rn=Math.atan2,zn=Math.abs,It=Math.cos,Zn=Math.sin,kl=Math.exp,Hn=Math.PI,wl=function(e,r,n,l,c){n===void 0&&(n=1),l===void 0&&(l=1),c===void 0&&(c=1);var f=function(He){return 360*He/(2*Hn)},u=function(He){return 2*Hn*He/360};e=new Un(e),r=new Un(r);var v=Array.from(e.lab()),g=v[0],k=v[1],M=v[2],I=Array.from(r.lab()),$=I[0],N=I[1],O=I[2],U=(g+$)/2,Z=Pe(ue(k,2)+ue(M,2)),j=Pe(ue(N,2)+ue(O,2)),K=(Z+j)/2,de=.5*(1-Pe(ue(K,7)/(ue(K,7)+ue(25,7)))),he=k*(1+de),_e=N*(1+de),H=Pe(ue(he,2)+ue(M,2)),S=Pe(ue(_e,2)+ue(O,2)),F=(H+S)/2,z=f(Rn(M,he)),R=f(Rn(O,_e)),pe=z>=0?z:z+360,ae=R>=0?R:R+360,V=zn(pe-ae)>180?(pe+ae+360)/2:(pe+ae)/2,Q=1-.17*It(u(V-30))+.24*It(u(2*V))+.32*It(u(3*V+6))-.2*It(u(4*V-63)),J=ae-pe;J=zn(J)<=180?J:ae<=pe?J+360:J-360,J=2*Pe(H*S)*Zn(u(J)/2);var te=$-g,we=S-H,De=1+.015*ue(U-50,2)/Pe(20+ue(U-50,2)),Fe=1+.045*F,nt=1+.015*F*Q,at=30*kl(-ue((V-275)/25,2)),Ie=2*Pe(ue(F,7)/(ue(F,7)+ue(25,7))),Ze=-Ie*Zn(2*u(at)),ht=Pe(ue(te/(n*De),2)+ue(we/(l*Fe),2)+ue(J/(c*nt),2)+Ze*(we/(l*Fe))*(J/(c*nt)));return Cl(0,Ll(100,ht))},qn=A,Ml=function(e,r,n){n===void 0&&(n="lab"),e=new qn(e),r=new qn(r);var l=e.get(n),c=r.get(n),f=0;for(var u in l){var v=(l[u]||0)-(c[u]||0);f+=v*v}return Math.sqrt(f)},$l=A,Sl=function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];try{return new(Function.prototype.bind.apply($l,[null].concat(e))),!0}catch{return!1}},jn=ne,Vn=or,xl={cool:function(){return Vn([jn.hsl(180,1,.9),jn.hsl(250,.7,.4)])},hot:function(){return Vn(["#000","#f00","#ff0","#fff"]).mode("rgb")}},Tt={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},cr=0,Wn=Object.keys(Tt);cr<Wn.length;cr+=1){var Xn=Wn[cr];Tt[Xn.toLowerCase()]=Tt[Xn]}var Pl=Tt,fe=ne;fe.average=Zs,fe.bezier=Ys,fe.blend=il,fe.cubehelix=fl,fe.mix=fe.interpolate=Mn,fe.random=gl,fe.scale=or,fe.analyze=An.analyze,fe.contrast=yl,fe.deltaE=wl,fe.distance=Ml,fe.limits=An.limits,fe.valid=Sl,fe.scales=xl,fe.colors=sn,fe.brewer=Pl;var Il=fe;return Il})})(la);const Pu=la.exports,Iu=Se({data(){return{minimumPercent:Lt,toggleInputUpdate:!1,value:0}},methods:{colorValue(){return Pu.scale(["#4cb31b","#ee3355"]).domain([0,100])(this.value)}}});const Tu=i=>(st("data-v-bf54b469"),i=i(),lt(),i),Ou={class:"container"},Nu=Tu(()=>E("p",null," Removes item spawns that are lower than the given percentage.",-1));function Eu(i,d,y,C,x,t){return Y(),ee(Ae,null,[E("div",Ou,[me(E("input",{type:"range",min:"0",max:"100",onInput:d[0]||(d[0]=a=>i.minimumPercent.set(i.value)),"onUpdate:modelValue":d[1]||(d[1]=a=>i.value=a),style:Ol({"--color":i.colorValue()})},null,36),[[gr,i.value]]),E("span",null,Me(i.value)+"% ",1)]),Nu],64)}const ua=xe(Iu,[["render",Eu],["__scopeId","data-v-bf54b469"]]),Gu=Se({data(){return{selectedItems:Le,minimumPercent:Lt,selectedMap:re,searchInput:"",matchingItems:[],data:{},items:{},searchTerms:[],lowerCaseSearchTerms:[],shake:!1,amounts:{}}},components:{PercentButton:ua},methods:{matchInputs:function(){const i=this.searchInput.toLowerCase();if(i==""){this.matchingItems=[];return}this.matchingItems=this.searchTerms.filter(function(d){if(d.toLowerCase().includes(i))return d})},setSearchItem(i){this.searchInput=i,this.matchingItems=[],this.addToSearchedList()},addToSearchedList(){const i=this.searchInput.toLowerCase();this.lowerCaseSearchTerms.includes(i)||(this.shake=!0,setTimeout(()=>{this.shake=!1},820));for(let d in this.items)if(this.items[d].name.toLowerCase()==i){Le.add(d),this.searchInput="";break}this.matchingItems=[]},submitEnter(){this.matchingItems.length==1&&this.setSearchItem(this.matchingItems[0])},autoCompleteShower(){return document.querySelector("#search-input")===document.activeElement},reset(){this.searchInput="",this.matchingItems=[]},colourClassGiver(i){const d=this.items[i];if(!d)return"";if(d.rarity)return d.rarity.toLowerCase()},itemImage(i){let d="";for(let C in this.items)if(this.items[C].name.toLowerCase()==i.toLowerCase()){d=C;break}let y=this.items[d].icon;return d?.includes("Map01_KeyCard")?"Bright_Sands_Key_Card.png":d?.includes("Map02_KeyCard")?"Crescent_Falls_Key_Card.png":d?.includes("Map03_KeyCard")?"Tharis_Island_Key_Card.png":y.replace(" - Mk.II","").replace(" - Mk.I","").replaceAll(" ","_").replaceAll("#","%23")}},async mounted(){this.data=await Ne(),this.items=this.data.descriptions;let i=[],d=[];for(let y in this.items){let C=this.items[y];i.push(C.name),d.push(C.name.toLowerCase())}this.searchTerms=i,this.lowerCaseSearchTerms=d,this.$watch("minimumPercent",()=>{this.amounts={...na()}},{deep:!0}),this.$watch("selectedItems",()=>{this.amounts={...na()}},{deep:!0})}});const Du=i=>(st("data-v-a2dcee4b"),i=i(),lt(),i),Fu={class:"outer-container"},Au={id:"search",role:"search",autocomplete:"off"},Bu={class:"search-container"},Uu=["onClick"],Ru=["src"],zu={class:"item-list"},Zu={class:"item-container"},Hu=["onClick"],qu=["src"],ju={class:"small"},Vu={class:"item-container-notice"},Wu={key:0},Xu=Du(()=>E("span",null," No items are selected ",-1)),Yu=[Xu];function Ku(i,d,y,C,x,t){const a=ve("font-awesome-icon"),o=ve("PercentButton");return Y(),ee("div",Fu,[E("form",Au,[E("div",Bu,[me(E("input",{onInput:d[0]||(d[0]=(...s)=>i.matchInputs&&i.matchInputs(...s)),type:"text",id:"search-input",spellcheck:"false","onUpdate:modelValue":d[1]||(d[1]=s=>i.searchInput=s),class:Oe({"apply-shake":i.shake}),placeholder:"Search for item...","aria-label":"Input item you want to search",ref:"input"},null,34),[[gr,i.searchInput]]),E("button",{type:"submit",onClick:d[2]||(d[2]=Nl((...s)=>i.addToSearchedList&&i.addToSearchedList(...s),["prevent"])),"aria-label":"Submit item search"},[ie(a,{icon:"fas fa-magnifying-glass"})]),E("button",{type:"reset",onClick:d[3]||(d[3]=(...s)=>i.reset&&i.reset(...s)),"aria-label":"Clear item input"},[ie(a,{icon:"fas fa-circle-xmark"})])])]),E("div",{class:Oe(["autocomplete",{"has-items":i.matchingItems.length>0}])},[ie(Gl,{name:"list",tag:"ul"},{default:El(()=>[(Y(!0),ee(Ae,null,bt(i.matchingItems,(s,h)=>(Y(),ee("li",{class:"autocomplete-item",onClick:p=>i.setSearchItem(s),key:h},[E("span",null,Me(s),1),E("img",{src:"map-images/item-images/"+i.itemImage(s).replace("_-_Mk.II","").replace("_-_Mk.I",""),class:"item-image"},null,8,Ru)],8,Uu))),128))]),_:1})],2),ie(o),E("div",zu,[E("div",Zu,[Object.keys(i.items).length>0?(Y(!0),ee(Ae,{key:0},bt(i.selectedItems.get(),s=>(Y(),ee("p",{onClick:h=>i.selectedItems.remove(s)},[ie(a,{icon:"fas fa-trash"}),E("span",{class:Oe(i.colourClassGiver(s))},[E("img",{src:"map-images/item-images/"+i.itemImage(i.items[s].name).replace("_-_Mk.II","").replace("_-_Mk.I",""),class:"item-image-list"},null,8,qu),Dl(" "+Me(i.items[s].name)+" ",1),E("span",ju,Me(i.amounts[s]+1?"("+i.amounts[s]+")":""),1)],2)],8,Hu))),256)):yt("",!0)]),E("div",Vu,[i.selectedItems.get().length==0?(Y(),ee("p",Wu,Yu)):yt("",!0)])])])}const Qu=xe(Gu,[["render",Ku],["__scopeId","data-v-a2dcee4b"]]),Ju=Se({data(){return{selectedTier:Be}}});function ec(i,d,y,C,x,t){const a=ve("font-awesome-icon"),o=je("tooltip");return me((Y(),ee("button",{onClick:d[0]||(d[0]=(...s)=>i.selectedTier.toggle&&i.selectedTier.toggle(...s)),class:"btn"},[ie(a,{icon:"fa-solid fa-ranking-star"})])),[[o,{content:" Toggle loot tiers <br>  Not available on map 3 yet",html:!0}]])}const tc=xe(Ju,[["render",ec],["__scopeId","data-v-55b058c3"]]),rc=Se({data(){return{selectedItems:Le,selectedLocations:se}},methods:{clearSearch(){Le.clear(),se.clear(),$e.clear()}}});function nc(i,d,y,C,x,t){const a=ve("font-awesome-icon"),o=je("tooltip");return me((Y(),ee("button",{onClick:d[0]||(d[0]=(...s)=>i.clearSearch&&i.clearSearch(...s)),class:"btn"},[ie(a,{icon:"fa-solid fa-trash"})])),[[o,{content:"Clear your current selections",html:!0}]])}const ac=xe(rc,[["render",nc],["__scopeId","data-v-3caa54f0"]]);async function ic(){const i=new URL(document.location.toString()).searchParams;window.history.pushState({},document.title,"/map");let d=i.get("map");d&&(d=parseInt(d),(d==1||d==2||d==3)&&re.set(d)),i.get("tier")==="true"&&Be.enable();let C=i.getAll("item");if(C.length>0){Le.clear(),se.clear();const a=(await Ne()).descriptions;let o=[];for(let s in C)for(let h in a)if(a[h].name.toLowerCase()==C[s].split("_").join(" ").toLowerCase()){o.push(h);break}o&&Le.set(o)}let x=i.getAll("loc");if(x.length>0){se.clear();let t={};for(let o in Ct)t[Ct[o].toString()]=o;let a=[];for(let o in x){let s=x[o].split("_").join(" ");t[s]&&a.push(t[s])}a&&se.set(a)}}async function oc(){let i="";i+=`?map=${re.get()}`,Be.get()&&(i+=`&tier=${Be.get()}`);let d=await Ne();d=d.descriptions;for(let y in Le.get())i+=`&item=${d[Le.get()[y]].name.toString().split(" ").join("_")}`;for(let y in se.get()){let C=Ct[se.get()[y]];C=C.toString().split(" ").join("_"),i+=`&loc=${C}`}return i}const sc=aa(),lc=Se({methods:{async getShareLink(){navigator.clipboard.writeText(document.location+await oc()),sc.info("Coplied share link to clipboard!",{timeout:2e3})}}});function uc(i,d,y,C,x,t){const a=ve("font-awesome-icon"),o=je("tooltip");return me((Y(),ee("button",{class:"btn","aria-label":"Get share link",onClick:d[0]||(d[0]=(...s)=>i.getShareLink&&i.getShareLink(...s)),ref:"shareButton"},[ie(a,{icon:"fa-solid fa-up-right-from-square"})])),[[o,{content:"Get a shareable link to <br> your current selections",html:!0}]])}const cc=xe(lc,[["render",uc],["__scopeId","data-v-63826e63"]]),fc=aa(),hc=Se({data(){return{color:"#ee3355",sheet:null,comment:""}},mounted(){this.sheet=document.createElement("style"),localStorage.getItem("markerOutlineColor")!=null&&(this.color=localStorage.getItem("markerOutlineColor"),this.setColor())},methods:{setColor(){this.sheet.innerHTML=`.marker {
			    -webkit-filter: 
                    drop-shadow(2px 2px 0 ${this.color}) 
                    drop-shadow(-1px -1px 0  ${this.color});
			    filter:
                    drop-shadow(2px 2px 0 ${this.color})
                    drop-shadow(-1px -1px 0 ${this.color});
		    }`,document.body.appendChild(this.sheet)},resetColor(){this.color="#ee3355",this.setColor()},saveColor(){typeof this.color=="string"&&(localStorage.setItem("markerOutlineColor",this.color),fc.info("Saved outline colour!",{timeout:2e3}))}}});const dc=i=>(st("data-v-272cf8f2"),i=i(),lt(),i),pc=dc(()=>E("header",null,[E("h2",null," Outline ")],-1));function vc(i,d,y,C,x,t){const a=ve("font-awesome-icon"),o=je("tooltip");return Y(),ee(Ae,null,[pc,E("div",null,[me(E("input",{type:"color",id:"colorSelector",onInput:d[0]||(d[0]=(...s)=>i.setColor&&i.setColor(...s)),label:"Select marker outline colour","onUpdate:modelValue":d[1]||(d[1]=s=>i.color=s)},null,544),[[gr,i.color],[o,{content:"Click to set marker outline colour",html:!0}]]),me((Y(),ee("button",{type:"button",onClick:d[2]||(d[2]=(...s)=>i.saveColor&&i.saveColor(...s)),class:"save btn"},[ie(a,{icon:"fas fa-save"})])),[[o,{content:"Save current colour for future use",html:!0}]]),me((Y(),ee("button",{type:"button",onClick:d[3]||(d[3]=(...s)=>i.resetColor&&i.resetColor(...s)),class:"reset btn"},[ie(a,{icon:"fas fa-redo"})])),[[o,{content:"Reset to default",html:!0}]])])],64)}const gc=xe(hc,[["render",vc],["__scopeId","data-v-272cf8f2"]]),mc=Se({data(){return{clusterEnabled:Gt}}});function _c(i,d,y,C,x,t){const a=ve("font-awesome-icon"),o=je("tooltip");return me((Y(),ee("button",{class:"btn",onClick:d[0]||(d[0]=s=>i.clusterEnabled.toggle())},[ie(a,{icon:"fa-solid fa-circle-nodes"})])),[[o,{content:"Toggles clustering item markers. <br> <warning> WARNING </warning>: Turning clustering off will have <br> significant performance impact",html:!0}]])}const bc=xe(mc,[["render",_c],["__scopeId","data-v-74302c28"]]);function yc(){let i=document.createElement("script");i.setAttribute("src","https://unpkg.com/leaflet-responsive-popup@1.0.0/leaflet.responsive.popup.js"),document.head.appendChild(i)}function Lc(){let i=document.createElement("link");i.setAttribute("rel","stylesheet"),i.setAttribute("href","https://unpkg.com/leaflet-responsive-popup@1.0.0/leaflet.responsive.popup.css"),document.head.appendChild(i)}function Cc(){let i=document.createElement("link");i.setAttribute("rel","stylesheet"),i.setAttribute("href","https://unpkg.com/leaflet@1.8.0/dist/leaflet.css"),document.head.appendChild(i)}function G(i,d,y){let C='<span class="map-label-text">'+i+"</span>";const x=ce.divIcon({className:"fa fa-circle"});return ce.marker([d,y],{icon:x,opacity:0}).bindTooltip(C,{direction:"center",permanent:!0,className:"map-label",offset:[0,12]})}const Ot=[G("Science Campus",-191.954,193.22),G("Waterfall Labs",-52.919,188.22),G("Dig Site",-55.92,120.699),G("Crashed Ship",-70.924,67.685),G("Jungle Camp",-67.611,36.248),G("Water Facility",-202.128,125.383),G("Swamp Camp",-194.245,69.62),G("East Collection Point",-114.877,180.761),G("Comms Tower",-119.742,58.63),G("North Uplink",-105.874,135.795),G("South East Uplink",-166.37,167.254),G("Vaccine Labs",-135.499,200.786),G("Lagoon",-172.631,228.517),G("Woodcutter Camp",-76.998,202.766),G("Lake",-75.624,173.637),G("Power Plant",-145.88,82),G("Rock Pools",-164.256,49.121),G("Jungle",-52.474,63.5022),G("Abandoned Mine",-29.3623,160.883),G("Parking Lot",-58.376,146.751),G("Crashed Drill Site",-110.001,167.27),G("South West Collection Point",-166.878,96.001),G("Swamp",-196.499,49.247),G("Waterfalls",-35.62,199.141),G("East Caverns",-101.869,206.141),G("Base Camp",-135.812,125.115)],Nt=[G("Favela",-222.298,80.122),G("Lagoon",-214.944,121.488),G("Fallen Tree",-131.973,42.121),G("Greens Prospect",-126.973,127.495),G("Hay Fields",-74.947,33.493),G("Nutrion Farms Processing",-184.697,71.74),G("Jungle Thermal Ponds",-102.973,78.121),G("Nutrion Farms Warehouse",-37.534,69.624),G("Geothermal Plant",-192.61,140.56),G("Root Rock Tunnel",-165.944,197.986),G("Lakeside Building",-144.948,165.99),G("Skeleton",-124.972,205.867),G("Skeleton Observation Site",-115.598,226.368),G("Oasis",-72.598,202.243),G("Pinnacle Labs",-33.202,206.09),G("Osiris Wildlife Preserve",-107.487,160.935),G("Starport Admin",-89.972,146.745),G("Pumpkin Fields",-42.84,110.996),G("Starport Landing Pad",-68.598,126.747),G("Starport Warehouse",-74.598,164.994),G("Lagoon Thermal Ponds",-175.945,118.74)],Et=[G("Storm Pillar",-113.623258,143.004195),G("Korolev Quarry",-143.569834,135.575359),G("Korolev Island HQ",-163.803499,153.178869),G("Korolev Docks",-153.042406,87.545987),G("Cave of Stars",-124.806981,106.61464),G("Sparkling Waters",-110.573926,177.166503),G("Osiris Research Center",-92.14412,113.964648),G("Osiris Offices",-114.435211,95.729036),G("Osiris Labs",-97.91466,159.685399)];let ot,Te,pr;const kc=Se({components:{MapSelector:ou,LocationSelector:Cu,ItemSearch:Qu,TierToggler:tc,ClearSearch:ac,ShareLink:cc,ColorSelector:gc,ClusterButton:bc,PercentButton:ua},data(){return{selectedMap:re,selectedLocations:se,selectedItems:Le,selectedTier:Be,selectedCreatures:$e,clusterEnabled:Gt,minimumPercent:Lt,savedLocationMarkers:[],savedItemMarkers:[],savedCreatureMarkers:[],mapData:null,tierData:null,isModalVisible:!1,isExpanded:!0}},async mounted(){Cc(),yc(),Lc(),this.mapData=await Ne(),this.tierData=await su(),await $u(),ot=Mu(),await mt(),Te=vt(),await xu(),pr=Su(),ic();let i=ce.map("map",{crs:ce.CRS.Simple,zoom:1,minZoom:1,maxZoom:7,maxBounds:[[1024,-1024],[-1024,1024]],zoomDelta:.7,zoomSnap:.05,wheelPxPerZoomLevel:40,attributionControl:!1}).setView([-128,128],1);i.zoomControl.setPosition("topright"),i.fitBounds(ql),d(re.get()).addTo(i),setTimeout(()=>{y()},5),this.$watch("selectedMap",async()=>{ne(),Be.get()&&be(),x(),await mt(),Te=vt(),p(),s(),h(),d(re.get()).addTo(i),y()},{deep:!0}),this.$watch("selectedLocations",()=>{a(),s()},{deep:!0}),this.$watch("selectedItems",async()=>{t(),await mt(),Te=vt(),p()},{deep:!0}),this.$watch("selectedCreatures",()=>{o(),h()},{deep:!0}),this.$watch("selectedTier",()=>{Be.get()?be():ne()},{deep:!0}),this.$watch("clusterEnabled",async()=>{t(),await mt(),Te=vt(),p()},{deep:!0}),this.$watch("minimumPercent",async()=>{t(),await mt(),Te=vt(),p()},{deep:!0});function d(B){return B==1?(i.hasLayer(dt)&&i.removeLayer(dt),i.hasLayer(pt)&&i.removeLayer(pt),it):B==2?(i.hasLayer(it)&&i.removeLayer(it),i.hasLayer(pt)&&i.removeLayer(pt),dt):B==3?(i.hasLayer(it)&&i.removeLayer(it),i.hasLayer(dt)&&i.removeLayer(dt),pt):it}function y(){Ve(),Re(),We()}let C=this;function x(){for(let B in ot)for(let le in ot[B]){let ge=ot[B][le];ge&&ge.removeFrom(i)}t()}function t(){for(let B in Te)for(let le in Te[B]){let ge=Te[B][le];ge&&ge.removeFrom(i)}}function a(){for(let B in C.savedLocationMarkers){if(se.get().includes(C.savedLocationMarkers[B]))continue;let le=ot[C.selectedMap.get()][C.savedLocationMarkers[B]];le&&le.removeFrom(i),delete C.savedLocationMarkers[B]}}function o(){for(let B in C.savedCreatureMarkers){if($e.get().includes(C.savedCreatureMarkers[B]))continue;let le=pr[C.selectedMap.get()][C.savedCreatureMarkers[B]];le&&le.removeFrom(i),delete C.savedCreatureMarkers[B]}}function s(){let B=[];for(let le in se.get()){let ge=ot[C.selectedMap.get()][se.get()[le]];ge&&ge.addTo(i),B.push(se.get()[le])}C.savedLocationMarkers=B}function h(){let B=[];for(let le in $e.get()){let ge=pr[C.selectedMap.get()][$e.get()[le]];ge&&ge.addTo(i),B.push($e.get()[le])}C.savedCreatureMarkers=B}function p(){let B=[];for(let le in Le.get()){let ge=Te[C.selectedMap.get()][Le.get()[le]];ge&&ge.addTo(i),B.push(Le.get()[le])}C.savedItemMarkers=B}const m={color:"#dfe3e8",weight:0,fillOpacity:.2},w={color:"#4cb31b",weight:0,fillOpacity:.3},b={color:"#1da7ec",weight:0,fillOpacity:.3},P={color:"#4f0e8b",weight:0,fillOpacity:.3},_={color:"#ee3355",weight:0,fillOpacity:.3},T=ce.polygon(this.tierData[1][1],m),D=ce.polygon(this.tierData[1][2],w),q=ce.polygon(this.tierData[1][3],b),oe=ce.polygon(this.tierData[1][4],P),W=ce.polygon(this.tierData[2][3],b),X=ce.polygon(this.tierData[2][4],P),A=ce.polygon(this.tierData[2][5],_);function be(){Be.get()&&(re.get()==1&&(i.addLayer(T),i.addLayer(D),i.addLayer(q),i.addLayer(oe)),re.get()==2&&(i.addLayer(W),i.addLayer(X),i.addLayer(A)),re.get()==3)}function ne(){i.removeLayer(T),i.removeLayer(D),i.removeLayer(q),i.removeLayer(oe),i.removeLayer(W),i.removeLayer(X),i.removeLayer(A)}function Ve(){if(re.get()==1)for(let B in Ot)Ot[B].addTo(i);else for(let B in Ot)Ot[B].removeFrom(i)}function Re(){if(re.get()==2)for(let B in Nt)Nt[B].addTo(i);else for(let B in Nt)Nt[B].removeFrom(i)}function We(){if(re.get()==3)for(let B in Et)Et[B].addTo(i);else for(let B in Et)Et[B].removeFrom(i)}s(),p(),be(),Fl()},methods:{showModal(){this.isModalVisible=!0},closeModal(){this.isModalVisible=!1},toggleSidebar(){let i=document.querySelector("#page-content");i?.classList.toggle("collapsed"),i?.classList.toggle("add-keyframe"),this.isExpanded=!this.isExpanded}}});const ca=i=>(st("data-v-74054b31"),i=i(),lt(),i),wc={class:"page-content",id:"page-content"},Mc={class:"left",id:"left"},$c={id:"left-content"},Sc=ca(()=>E("header",null,[E("h2",null,"Options")],-1)),xc={class:"setting-container"},Pc={class:"container"},Ic={class:"right",id:"right"},Tc=ca(()=>E("div",{id:"map"},null,-1));function Oc(i,d,y,C,x,t){const a=ve("ItemSearch"),o=ve("LocationSelector"),s=ve("ClusterButton"),h=ve("TierToggler"),p=ve("ClearSearch"),m=ve("ShareLink"),w=ve("ColorSelector"),b=ve("font-awesome-icon"),P=ve("MapSelector"),_=je("tooltip");return Y(),ee("div",wc,[E("div",Mc,[E("div",$c,[ie(a),ie(o),E("section",null,[Sc,E("div",xc,[ie(s),ie(h),ie(p),ie(m)])]),E("section",Pc,[ie(w)])])]),E("div",Ic,[me((Y(),ee("button",{id:"sidebar-toggler",onClick:d[0]||(d[0]=(...T)=>i.toggleSidebar&&i.toggleSidebar(...T))},[i.isExpanded?(Y(),Yn(b,{key:0,icon:"fa-solid fa-caret-left"})):(Y(),Yn(b,{key:1,icon:"fa-solid fa-caret-right"}))])),[[_,{content:"Collapse/expand menu",html:!0}]]),ie(P),Tc])])}const Nc=xe(kc,[["render",Oc],["__scopeId","data-v-74054b31"]]),Ec=Al(Nc).component("font-awesome-icon",Bl.FontAwesome).use(Ul).use(Rl);Ec.mount("main");
