import{_ as x,O as $,P as R,r as M,o as c,c as u,g as n,C as E,Q as v,W as L,J as G,q as g,D as K,F as S,t as C,n as T,u as f,v as w,R as j,S as z,X as p,h as W,i as O,Y as b,Z as Y,$ as ee,w as te,A as ie,a0 as q,a1 as A,E as V,e as de,m as ue,B as se,a as ne,I as me,b as he,d as pe,s as _e,p as fe}from"./all.3a25f7fe.js";import{a as P,i as le,w as I,t as B,b as k}from"./data.794de661.js";import{c as Q,u as ve,i as ge,l as Se,r as y,k as oe,d as be,f as ye}from"./utils.1985e4e2.js";import{h as H}from"./data.aa756c0d.js";const Me={class:"container"},De=["src"],Ce={key:0,class:"modal__bg"},Ae={class:"weapon-container"},ke={class:"armor-container"},Te=["onClick"],Pe=["src"],$e={name:"ArmorSelector",data(){return{selectedArmor:L,armorData:P,itemData:le,showModal:!1}},methods:{armorFilter(e){let a={};a.PlayerDefault={armorAmount:0,rarity:"None"};for(let t in e)t.includes("Test")||t.includes("Tactical")||t.includes("Restoration")||t.includes("Altered")||t.includes&&(a[t]=e[t]);return a.Shield_Altered_03=e.Shield_Altered_03,a},armorImage(e){return e.includes("PlayerDefault")?"No_Armor":e.includes("Altered_03")?"Shield_Forged":e.includes("01")?e.includes("Restoration")?"Shield_Uncommon":"Shield_Common":e.includes("02")?e.includes("Restoration")?"Shield_Rare":"Shield_Uncommon":e.includes("03")?"Shield_Rare":e.includes("04")||e.includes("05")?"Shield_Epic":"Shield_Common"},armorName(e){return e=="PlayerDefault"?"No Armor":le[e].inGameName},classGiver(e){let a="";return a+=P[e].rarity.toLowerCase(),L.selected==e&&(a+=" active"),a}}},xe=Object.assign($e,{setup(e){const a=$(!1),t=$(null);return R(t,()=>a.value=!1),(l,s)=>{const o=M("font-awesome-icon");return c(),u(S,null,[n("div",Me,[n("button",{class:"",type:"button",onClick:s[0]||(s[0]=E(i=>a.value=!0,["prevent"]))},[n("img",{src:"calc-images/"+l.armorImage(v(L).selected)+".png"},null,8,De)])]),(c(),G(z,{to:"#modal"},[g(j,{name:"modal"},{default:K(()=>[a.value?(c(),u("div",Ce,[n("section",{class:"modal__content modal__small",ref_key:"modal",ref:t},[n("button",{onClick:s[1]||(s[1]=i=>a.value=!1),class:"modal__close-button","aria-label":"Close Modal",type:"button"},[g(o,{icon:"fa-solid fa-xmark"})]),n("div",Ae,[n("div",ke,[(c(!0),u(S,null,C(l.armorFilter(v(P)),(i,r)=>(c(),u("div",{class:T(["armor-selector",l.classGiver(r)]),onClick:h=>v(L).changeSelected(r)},[n("img",{src:"calc-images/"+l.armorImage(r)+".png",class:"armor-image"},null,8,Pe),n("span",null,f(l.armorName(r))+" ("+f(i.armorAmount)+") ",1)],10,Te))),256))])])],512)])):w("",!0)]),_:1})]))],64)}}}),Be=x(xe,[["__scopeId","data-v-09394382"]]),we=""+new URL("../calc-images/Weapon_Icon.png",import.meta.url).href;const Ie=e=>(W("data-v-3c4aff94"),e=e(),O(),e),Le={class:"container"},We=Ie(()=>n("img",{src:we},null,-1)),Oe=[We],He={key:0,class:"modal__bg"},Ne={class:"weapon-container"},Fe=["onClick"],Ve=["src"],Re={class:"weapon-name"},Ee={name:"WeaponSelector",data(){return{weaponData:I,sortedData:[],selectedWeapons:p,showWeaponModal:!1}},mounted(){let e=[];for(const[t,l]of Object.entries(this.weaponData))!l||!l.tags||l.tags.length==0||l.tags[0]==="Tools"||t.includes("scrappy")||l.inGameName=="HAZE"||l.inGameName=="KARLA"||l.inGameName=="FF4 Detonator"||e.push(t);let a=[];for(const t in e){const l=this.weaponData[e[t]];if(l==null)continue;let s=[l.inGameName,e[t]];a.push(s)}a.sort(),this.sortedData=a}},Ge=Object.assign(Ee,{setup(e){const a=$(!1),t=$(null);return R(t,()=>a.value=!1),(l,s)=>{const o=M("font-awesome-icon");return c(),u(S,null,[n("div",Le,[n("button",{class:"",type:"button",onClick:s[0]||(s[0]=E(i=>a.value=!0,["prevent"]))},Oe)]),(c(),G(z,{to:"#modal"},[g(j,{name:"modal"},{default:K(()=>[a.value?(c(),u("div",He,[n("section",{class:"modal__content modal__small",ref_key:"modal",ref:t},[n("button",{onClick:s[1]||(s[1]=i=>a.value=!1),class:"modal__close-button","aria-label":"Close Modal",type:"button"},[g(o,{icon:"fa-solid fa-xmark"})]),n("div",Ne,[(c(!0),u(S,null,C(l.sortedData,i=>(c(),u("div",{class:T(["weapon-selector",{active:v(p).list.includes(i[1])}]),onClick:r=>v(p).toggleSelected(i[1])},[n("img",{src:"calc-images/"+i[0].replace(" - Mk.II","").replace(" - Mk.I","")+".png",class:"weapon-image"},null,8,Ve),n("span",Re,f(i[0]),1)],10,Fe))),256))])],512)])):w("",!0)]),_:1})]))],64)}}}),Ke=x(Ge,[["__scopeId","data-v-3c4aff94"]]);const je={class:"container"},ze=["src"],Ue={key:0,class:"modal__bg"},Ye={class:"weapon-container"},qe={class:"target-container"},Je=["onClick"],Ze={key:0},Xe=["src"],Qe={name:"WeaponSelector",data(){return{targetData:B,selectedTarget:b,showTargetModal:!1,creatureNames:Q}},mounted(){}},et=Object.assign(Qe,{setup(e){const a=$(!1),t=$(null);return R(t,()=>a.value=!1),(l,s)=>{const o=M("font-awesome-icon");return c(),u(S,null,[n("div",je,[n("button",{class:"",type:"button",onClick:s[0]||(s[0]=E(i=>a.value=!0,["prevent"]))},[n("img",{src:"calc-images/"+v(b).selected+".png",class:"button-image"},null,8,ze)])]),(c(),G(z,{to:"#modal"},[g(j,{name:"modal"},{default:K(()=>[a.value?(c(),u("div",Ue,[n("section",{class:"modal__content modal__small",ref_key:"modal",ref:t},[n("button",{onClick:s[1]||(s[1]=i=>a.value=!1),class:"modal__close-button","aria-label":"Close Modal",type:"button"},[g(o,{icon:"fa-solid fa-xmark"})]),n("div",Ye,[n("div",qe,[(c(!0),u(S,null,C(v(B),(i,r)=>(c(),u("div",{class:T(["target-selector",{active:v(b).selected==r}]),onClick:h=>v(b).changeSelected(r)},[Object.keys(v(Q)).includes(r)?(c(),u("div",Ze,[n("img",{src:"calc-images/"+r+".png",class:"target-image"},null,8,Xe),n("span",null,f(v(Q)[r]??r),1)])):w("",!0)],10,Je))),256))])])],512)])):w("",!0)]),_:1})]))],64)}}}),tt=x(et,[["__scopeId","data-v-1f7ab89c"]]);const at={data(){return{HSValue:0,selectedHSValue:Y,selectedTarget:b,selectedWeakspotValue:ee,targetData:B}},methods:{getWeakspotList(e){let a={};for(let t in e){if(t.includes("Ankle")&&!t.includes("WeakSpot"))continue;let l=t.split("_")[0];l=l.replace(/[0-9]/g,""),(l.charAt(l.length-1)=="A"||l.charAt(l.length-1)=="C")&&(l=l.slice(0,-1)),l=="NeckSpike"&&(l="Neck Spike"),l=="EggSack"&&(l="Egg Sack"),!["Neck","Spine"].includes(l)&&(a[l]=e[t].m_damageMultiplier)}return a},getWeakspotValue(e){return e}},watch:{selectedTarget:{deep:!0,handler(){const e=document.querySelectorAll(".container .radioButton");if(!!e)for(let a in e)e[a].checked&&(e[a].checked=!1)}}}},st=e=>(W("data-v-580cd4c5"),e=e(),O(),e),lt={class:"container"},it={key:0},nt=st(()=>n("h2",null," Weakspot to hit",-1)),ot=["name","id"],rt=["for"],ct=["name","id","onInput"],dt=["for"];function ut(e,a,t,l,s,o){return c(),u("div",lt,[n("h2",null," Weakspot Percentage: "+f(s.HSValue)+"% ",1),te(n("input",{type:"range",min:"0",max:"100","onUpdate:modelValue":a[0]||(a[0]=i=>s.HSValue=i),onInput:a[1]||(a[1]=i=>s.selectedHSValue.changeValue(s.HSValue))},null,544),[[ie,s.HSValue]]),s.selectedTarget.selected!=="PlayerDefault"?(c(),u("div",it,[nt,n("div",null,[n("input",{value:!0,checked:"",type:"radio",class:"radioButton default",name:s.selectedTarget.selected+"-weakspotRadios",key:"'none'",id:s.selectedTarget.selected+"none",onInput:a[2]||(a[2]=i=>s.selectedWeakspotValue.changeValue(1))},null,40,ot),n("label",{for:s.selectedTarget.selected+"none"},"None (1\xD7)",8,rt)]),(c(!0),u(S,null,C(o.getWeakspotList(s.targetData[s.selectedTarget.selected].damageAreas),(i,r)=>(c(),u("div",null,[(c(),u("input",{type:"radio",class:"radioButton",name:s.selectedTarget.selected+"-weakspotRadios",key:r,id:s.selectedTarget.selected+r,onInput:h=>s.selectedWeakspotValue.changeValue(o.getWeakspotValue(i))},null,40,ct)),n("label",{for:s.selectedTarget.selected+r},f(r)+" ("+f(o.getWeakspotValue(i))+"\xD7)",9,dt)]))),256))])):w("",!0)])}const re=x(at,[["render",ut],["__scopeId","data-v-580cd4c5"]]);const mt={data(){return{distance:0,selectedDistance:q}}},ht=e=>(W("data-v-aaac3e7c"),e=e(),O(),e),pt={class:"container"},_t=ht(()=>n("p",null," This affects if damage falls off at range. See the chart below. ",-1));function ft(e,a,t,l,s,o){return c(),u("div",pt,[n("h2",null," Distance: "+f(s.distance)+"m",1),te(n("input",{type:"range",min:"0",max:"100","onUpdate:modelValue":a[0]||(a[0]=i=>s.distance=i),onInput:a[1]||(a[1]=i=>s.selectedDistance.changeValue(s.distance))},null,544),[[ie,s.distance]]),_t])}const ce=x(mt,[["render",ft],["__scopeId","data-v-aaac3e7c"]]);const vt={components:{ArmorSelector:Be,WeaponSelector:Ke,TargetSelector:tt,AccuracySelector:re,DistanceSelector:ce}},gt=e=>(W("data-v-5920c9e8"),e=e(),O(),e),St={class:"content"},bt=gt(()=>n("h2",null," Options ",-1)),yt={class:"button-container"};function Mt(e,a,t,l,s,o){const i=M("WeaponSelector"),r=M("ArmorSelector"),h=M("TargetSelector"),m=M("AccuracySelector"),_=M("DistanceSelector");return c(),u("section",null,[n("div",null,[n("div",St,[bt,n("div",yt,[n("div",null,[g(i)]),n("div",null,[g(r)]),n("div",null,[g(h)])]),g(m),g(_)])])])}const Dt=x(vt,[["render",Mt],["__scopeId","data-v-5920c9e8"]]),N={savedAttachmentList:{},getAttachments:function(e){if(this.savedAttachmentList[e])return this.savedAttachmentList[e];let a=I[e],t=a.tags.concat(["Weapon.Ammo."+a.ammoType]),l=[];for(let s in k){let o=k[s].compatible;!a.modSlots.includes(k[s].type)||ve.includes(k[s].type)||(o.length===0&&l.push(s),o.some(i=>t.includes(i))&&l.push(s))}return this.savedAttachmentList[e]=l,l},savedGroupedAttachmentList:{},groupAttachments:function(e){if(this.savedGroupedAttachmentList[e])return this.savedGroupedAttachmentList[e];let a=this.getAttachments(e),t={};for(let l in k){if(!a.includes(l)||l.startsWith("No"))continue;let s=k[l].type;t[s]||(t[s]=[]),t[s].push(l)}return this.savedGroupedAttachmentList[e]=t,t},getAttachmentEffects:function(e){let a=A.list[e],t=[];for(let o in a){let i=k[a[o]].effects;for(let r in i)t.push(i[r])}let l={};for(let o in t){let i=t[o].attribute;ge.includes(i)||(i.startsWith("Weapon")&&(i=i.replace("Weapon",""),i=Se(i)),i=="clipSize"&&(i="ammoInClip"),i=="amountOfShots"&&(i="amountOfImmediateFires"),i=="damageDirect"&&(i="directDamage"),i=="damageRange"&&(l.FalloffStart={value:t[o].value+I[e].FalloffStart,type:t[o].modifierType},l.FalloffEnd={value:t[o].value+I[e].FalloffStart,type:t[o].modifierType}),l[i]||(l[i]=[]),l[i].push({value:t[o].value,type:t[o].modifierType}))}let s={};for(let o in l){let i=0,r="";for(let h in l[o])if(l[o][h].type=="Additive"&&(i+=l[o][h].value,r="Additive"),l[o][h].type=="Multiplicitive_PreAdd"&&(i+=l[o][h].value-1,r="Multiplicitive_PreAdd"),l[o][h].type=="Override"){s[o]=l[o][h];break}r=="Additive"?s[o]={value:i,type:"Additive"}:r=="Multiplicitive_PreAdd"&&(s[o]={value:1+i,type:"Multiplicitive_PreAdd"})}return s}},d={damagePerMag:function(e,a){return this.totalClicksPerMag(e)*this.totalDamagePerClick(e,a)},roundsPerMinute:function(e){const a=this.roundsPerClick(e)*this.totalClicksPerMag(e);return 60/this.totalTimeToEmptyMag(e)*a},roundsPerMinuteReloadAdjusted:function(e){const a=this.roundsPerClick(e)*this.totalClicksPerMag(e);return 60/(this.totalTimeToEmptyMag(e)+this.s(e,"reloadTime"))*a},damagePerSecond:function(e){return this.damagePerMag(e)/this.totalTimeToEmptyMag(e)},damagePerSecondReloadAdjusted:function(e){return this.damagePerMag(e)/(this.totalTimeToEmptyMag(e)+this.s(e,"reloadTime"))},totalTimeToEmptyMag:function(e){return e.includes("WP_G_HVY_Beam")?this.s(e,"ammoInClip")/this.s(e,"ammoPerBullet")*this.s(e,"refireTime")+this.s(e,"spinupTime")-this.s(e,"refireTime"):this.totalTimePerClick(e)*this.totalClicksPerMag(e)-this.s(e,"refireTime")},shotsToKill:function(e,a,t,l="normal"){let s;a!==void 0?s=B.PlayerDefault.health:s=B[b.selected].health;let i=s/this.totalDamagePerClick(e,a,t,l)*(this.s(e,"amountOfBurst")+1);return i%Math.floor(i)<1e-6?Math.floor(i):Math.ceil(i)},timeToKill:function(e){let a=B[b.selected].health,t=this.shotsToKill(e),l=t/(this.s(e,"amountOfBurst")+1);if(l==1)return this.s(e,"spinupTime");let s=Math.floor(l)*this.totalTimePerClick(e),o=t%(this.s(e,"amountOfBurst")+1),i=0;o&&(i=this.s(e,"spinupTime")+o*this.s(e,"burstInterval")-this.s(e,"burstInterval"));let r=s+i,h=this.damagePerMag(e),m=a/h;return r+=Math.floor(m)*this.s(e,"reloadTime"),e.includes("WP_G_HVY_Beam")&&(r=l*this.s(e,"refireTime")+Math.ceil(m)*this.s(e,"spinupTime")+Math.floor(m)*this.s(e,"reloadTime")),o===0&&(r=r-Math.ceil(m)*this.s(e,"refireTime")),r},roundsPerClick:function(e){return this.s(e,"amountOfBurst")+1},totalDamagePerClick:function(e,a,t,l){return(this.s(e,"directDamage")+this.s(e,"radialDamage"))*this.getShotModifiers(e,a,t,l)*this.s(e,"amountOfImmediateFires")*(this.s(e,"amountOfBurst")+1)},totalTimePerClick:function(e){return this.s(e,"amountOfBurst")*(this.s(e,"burstInterval")>0?this.s(e,"burstInterval"):0)+this.s(e,"refireTime")+this.s(e,"spinupTime")},totalClicksPerMag:function(e){return this.s(e,"ammoInClip")/this.s(e,"ammoPerBullet")/(this.s(e,"amountOfBurst")+1)},damageOnBodyShot:function(e,a){return(this.s(e,"directDamage")+this.s(e,"radialDamage")*this.s(e,"amountOfImmediateFires"))*this.penetrationMultiplier(e,a)*this.falloffMultiplier(e,a)*this.creatureDamageMult(e)},damageOnWeakSpotShot:function(e,a){return(this.s(e,"directDamage")+this.s(e,"radialDamage")*this.s(e,"amountOfImmediateFires"))*this.penetrationMultiplier(e,a)*this.falloffMultiplier(e,a)*this.creatureDamageMult(e)*this.s(e,"weakDamageMultiplier")},penetrationMultiplier:function(e,a){let t=B[b.selected],l;a!==void 0?(l=this.s(e,"penetration")-a,t=B.PlayerDefault):b.selected=="PlayerDefault"&&b.selected!="None"?l=this.s(e,"penetration")-P[L.selected].armorAmount:l=this.s(e,"penetration")-t.armorValue;let s=t.health,o=t.armorConstant,i=t.minDamageReduction,r=t.maxDamageReduction,h=s+Math.abs(l)*o*s,m=s/h;return l>0&&(m=2-m),m>r&&(m=r),m<i&&(m=i),m},falloffMultiplier:function(e){let a=parseInt(q.distance)*100,t=this.s(e,"FalloffStart"),l=this.s(e,"FalloffEnd"),s=this.s(e,"FalloffMultiplier");if(a>=l)return s;if(a<=t)return 1;let o=a-t,i=l-t;return 1-o/i*(1-s)},headShotMult:function(e,a,t="normal"){if(b.selected!="PlayerDefault"&&t=="normal"){let o=Y.HSValue;return a&&(o=a),1+(ee.value-1)*o/100}let l=this.s(e,"weakDamageMultiplier"),s=Y.HSValue;return a&&(s=a),1+(l-1)*s/100},creatureDamageMult:function(e){if(b.selected!="PlayerDefault"){const a=N.getAttachmentEffects(e);if(a.DamageEnemyMultiplier)return a.DamageEnemyMultiplier.value}return 1},getShotModifiers:function(e,a,t,l="normal"){return this.headShotMult(e,t,l)*this.penetrationMultiplier(e,a)*this.falloffMultiplier(e)*this.creatureDamageMult(e)},savedWeaponData:{},s:function(e,a){let t;this.savedWeaponData[e]?t=this.savedWeaponData[e]:(t=I[e],this.savedWeaponData[e]=t);let l=N.getAttachmentEffects(e),s=t[a];if(l.hasOwnProperty(a)){let o=l[a];if(o.type=="Additive")return s+o.value;if(o.type=="Multiplicitive_PreAdd")return s*o.value;if(o.type=="Override")return o.value}else return s}};let Ct={Chart:{colorSet:"colorSet1"},Title:{fontFamily:"sans-ui",fontSize:33,fontColor:"#3A3A3A",fontWeight:"bold",verticalAlign:"top",margin:10},Axis:{titleFontSize:26,titleFontColor:"#666666",titleFontFamily:"Refinery, Helvetica",labelFontFamily:"Refinery, Helvetica",labelFontSize:18,labelFontColor:"grey",tickColor:"#BBBBBB",tickThickness:2,gridThickness:2,gridColor:"#BBBBBB",lineThickness:2,lineColor:"#BBBBBB"},Legend:{verticalAlign:"bottom",horizontalAlign:"center",fontFamily:"Refinery, Helvetica"},DataSeries:{indexLabelFontColor:"red",indexLabelFontFamily:"Refinery, Helvetica",indexLabelFontWeight:"bold",indexLabelFontSize:18,indexLabelLineThickness:1}};CanvasJS.addTheme("Pnoexz",Ct);function F(){let e=[],a=B[b.selected],t=a.health,l=a.armorConstant,s=a.minDamageReduction,o=a.maxDamageReduction;for(let h=-40;h<=40;h++){let m=t+Math.abs(h)*l*t,_=t/m;h>0&&(_=2-_),_>o&&(_=o),_<s&&(_=s),e.push({x:h,y:y(_)})}let i=[{type:"spline",dataPoints:e,showInLegend:!0,legendText:"DMG Multiplier",lineThickness:2}];for(let h in p.list){let m=p.list[h],_;b.selected=="PlayerDefault"&&b.selected!="None"?_=d.s(m,"penetration")-P[L.selected].armorAmount:_=d.s(m,"penetration")-a.armorValue;let D=y(d.penetrationMultiplier(m));i.push({type:"spline",showInLegend:!0,legendText:I[p.list[h]].inGameName,dataPoints:[{x:_,y:D,indexLabel:String(D),markerSize:10,indexLabelPlacement:"auto"}],indexLabelPlacement:"inside"})}new CanvasJS.Chart("penChart",{title:{text:"Penetration"},theme:"Pnoexz",legend:{horizontalAlign:"center",fontSize:15,verticalAlign:"top"},axisY:{title:"damage multiplier",includeZero:!0,minimum:0,maximum:2,interval:.2},axisX:{title:"penetration - armor",gridThickness:1},data:i}).render()}function U(){let e=[];for(let t in p.list){let l=p.list[t],s=[];for(let o=0;o<=200;o++){let i=o*100,r=d.s(l,"FalloffStart"),h=d.s(l,"FalloffEnd"),m=d.s(l,"FalloffMultiplier");if(i>=h)s.push({x:o,y:m});else if(i<=r)s.push({x:o,y:1});else{let _=i-r,D=h-r;s.push({x:o,y:y(1-_/D*(1-m))})}}e.push({type:"spline",showInLegend:!0,legendText:I[l].inGameName,dataPoints:s,lineThickness:3})}new CanvasJS.Chart("falloffChart",{title:{text:"Falloff"},theme:"Pnoexz",legend:{horizontalAlign:"center",fontSize:15,verticalAlign:"top"},axisY:{title:"falloff multiplier",includeZero:!0,minimum:0,maximum:1.2,interval:.1},axisX:{title:"distance (m)",gridThickness:1,stripLines:[{value:q.distance,showOnTop:!0}]},data:e}).render()}const At=""+new URL("../calc-images/Attachment_Icon.png",import.meta.url).href;const J=e=>(W("data-v-4b235e82"),e=e(),O(),e),kt=J(()=>n("img",{src:At},null,-1)),Tt=[kt],Pt={class:"attachment-list"},$t=J(()=>n("p",null," Selected attachments: ",-1)),xt=["onClick"],Bt={key:0},wt={key:0,class:"modal__bg"},It=J(()=>n("h2",null," Attachment Selector ",-1)),Lt={class:"attachment-container"},Wt=["onClick"],Ot=["onClick"],Ht={key:0},Nt=J(()=>n("p",{class:"center"}," This weapon has no attachments available. ",-1)),Ft=[Nt],Vt={name:"AttachmentSelector",props:["weapon"],data(){return{attachmentData:k,showModal:!1,selectedAttachments:A,keyNames:oe}},methods:{groupAttachments(e){return N.groupAttachments(e)},getAttachments(e){return N.getAttachments(e)},colourClassGiver(e,a){let t="";if(e!=null&&(t+=k[e].rarity.toLowerCase()),A.typeList[this.weapon]){if(A.typeList[this.weapon][a])A.typeList[this.weapon][a]==e&&(t+=" active");else if(e==null)return"active"}else if(e==null)return"active";return t}}},Rt=Object.assign(Vt,{setup(e){const a=$(!1),t=$(null);return R(t,()=>a.value=!1),(l,s)=>{const o=M("font-awesome-icon");return c(),u(S,null,[n("button",{class:"",type:"button",onClick:s[0]||(s[0]=E(i=>a.value=!0,["prevent"]))},Tt),n("div",Pt,[$t,(c(!0),u(S,null,C(v(A).typeList[e.weapon],(i,r)=>(c(),u("p",{onClick:h=>v(A).toggleSelected(e.weapon,null,r)},[g(o,{icon:"fas fa-trash"}),V(" "+f(v(k)[i].inGameName),1)],8,xt))),256)),!v(A).list[e.weapon]||v(A).list[e.weapon].length==0?(c(),u("p",Bt," None ")):w("",!0)]),(c(),G(z,{to:"#modal"},[g(j,{name:"modal"},{default:K(()=>[a.value?(c(),u("div",wt,[n("section",{class:"modal__content modal__small",ref_key:"modal",ref:t},[n("button",{onClick:s[1]||(s[1]=i=>a.value=!1),class:"modal__close-button","aria-label":"Close Modal",type:"button"},[g(o,{icon:"fa-solid fa-xmark"})]),It,n("div",Lt,[(c(!0),u(S,null,C(l.groupAttachments(e.weapon),(i,r)=>(c(),u("div",{class:"attachment-selector",key:i},[n("h3",null,f(l.keyNames[r]),1),n("p",{onClick:h=>v(A).toggleSelected(e.weapon,null,r),class:T([l.colourClassGiver(null,r),"attachment-item"])}," None ",10,Wt),(c(!0),u(S,null,C(i,(h,m)=>(c(),u("p",{key:m,class:T([l.colourClassGiver(h,r),"attachment-item"]),onClick:_=>v(A).toggleSelected(e.weapon,h,r)},f(v(k)[h].inGameName)+" ("+f(v(k)[h].rarity)+") ",11,Ot))),128))]))),128)),l.getAttachments(e.weapon).length==0?(c(),u("div",Ht,Ft)):w("",!0)])],512)])):w("",!0)]),_:1})]))],64)}}}),Et=x(Rt,[["__scopeId","data-v-4b235e82"]]),Gt=""+new URL("../calc-images/Body_Chart.png",import.meta.url).href;const Z=e=>(W("data-v-4c098318"),e=e(),O(),e),Kt=Z(()=>n("img",{src:Gt},null,-1)),jt=[Kt],zt={key:0,class:"modal__bg"},Ut=Z(()=>n("h2",null," Body Chart ",-1)),Yt=Z(()=>n("p",null," Damage per bullet ",-1)),qt={id:"figure"},Jt={id:"head"},Zt={id:"chest"},Xt={id:"hip"},Qt={id:"legs"},ea=Z(()=>n("span",{id:"comment"}," Spuddy \u21B4 ",-1)),ta=de({props:["weapon"],data(){return{showModal:!1,head:0,chest:0,hip:0,legs:0,selectedAttachments:A,selectedArmor:L}},mounted(){this.updateChart()},methods:{updateChart(){this.head=y((d.s(this.weapon,"directDamage")+d.s(this.weapon,"radialDamage"))*d.penetrationMultiplier(this.weapon)*d.s(this.weapon,"amountOfImmediateFires")*d.s(this.weapon,"weakDamageMultiplier")),this.chest=y((d.s(this.weapon,"directDamage")+d.s(this.weapon,"radialDamage"))*d.penetrationMultiplier(this.weapon)*d.s(this.weapon,"amountOfImmediateFires")*1),this.hip=y((d.s(this.weapon,"directDamage")+d.s(this.weapon,"radialDamage"))*d.penetrationMultiplier(this.weapon)*d.s(this.weapon,"amountOfImmediateFires")*1.1),this.legs=y((d.s(this.weapon,"directDamage")+d.s(this.weapon,"radialDamage"))*d.penetrationMultiplier(this.weapon)*d.s(this.weapon,"amountOfImmediateFires")*.8)}},watch:{selectedAttachments:{deep:!0,handler(){this.updateChart()}},selectedArmor:{deep:!0,handler(){this.updateChart()}}}}),aa=Object.assign(ta,{__name:"BodyChart",setup(e){const a=$(!1),t=$(null);return R(t,()=>a.value=!1),(l,s)=>{const o=M("font-awesome-icon");return c(),u(S,null,[n("button",{class:"",type:"button",onClick:s[0]||(s[0]=E(i=>a.value=!0,["prevent"]))},jt),(c(),G(z,{to:"#modal"},[g(j,{name:"modal"},{default:K(()=>[a.value?(c(),u("div",zt,[n("section",{class:"modal__content modal__small",ref_key:"modal",ref:t},[n("button",{onClick:s[1]||(s[1]=i=>a.value=!1),class:"modal__close-button","aria-label":"Close Modal",type:"button"},[g(o,{icon:"fa-solid fa-xmark"})]),Ut,Yt,n("div",qt,[n("span",Jt,f(l.head),1),n("span",Zt,f(l.chest),1),n("span",Xt,f(l.hip),1),n("span",Qt,f(l.legs),1),ea])],512)])):w("",!0)]),_:1})]))],64)}}}),sa=x(aa,[["__scopeId","data-v-4c098318"]]);const la={components:{AttachmentSelector:Et,BodyChart:sa},data(){return{selectedWeapons:p,selectedArmor:L,selectedTarget:b,selectedHSValue:Y,selectedDistance:q,selectedAttachments:A,selectedWeakspotValue:ee,weaponData:I,keyNames:oe,detailedKeyNames:be,flippedKeys:ye,compareData:[],colourList:{},detailedStats:{},collapsed:!0}},methods:{rarity(e){return"var(--rarity-color-"+["none","common","uncommon","rare","epic","exotic","legendary"][e]+")"},getDetailedStats(e,a){const t=this.detailedStats[e];return t?a?a=="Shield"?Object.keys(t).filter(l=>l.includes("$")).reduce((l,s)=>Object.assign(l,{[s]:t[s]}),{}):a=="Helmet"?Object.keys(t).filter(l=>l.includes("&")).reduce((l,s)=>Object.assign(l,{[s]:t[s]}),{}):t:Object.fromEntries(Object.entries(t).filter(([l])=>!l.includes("%"))):{}},colourClassGiver(e,a){let t=N.getAttachmentEffects(a),l="";if(Object.keys(this.colourList).length!=1)return t[e]&&(l+="modified "),this.colourList[a]&&(l+=this.colourList[a][e]),l},filter(e){let a={};for(let t in e)typeof e[t]!="object"&&t!="inGameName"&&(a[t]=e[t]);return a},updateColourList(){const e=[],a={};for(let t in p.list)e.push(this.weaponData[p.list[t]]),a[p.list[t]]={};for(const t in e[0]){if(typeof d.s(p.list[0],t)!="number")continue;let s=[];for(const i in p.list){const r=d.s(p.list[i],t);typeof r=="number"&&s.push(r)}let o;this.flippedKeys.includes(t)?o=Math.min.apply(null,s):o=Math.max.apply(null,s);for(const i in p.list)s[i]==o?a[p.list[i]][t]="highest-value":a[p.list[i]][t]="lowest-value";if(s.every((i,r,h)=>i===h[0]))for(const i in p.list){let r=p.list[i];a[r][t]="equal-value"}}this.colourList=a},updateDetailedStats(){const e={};for(let a in p.list){let t=p.list[a];e[t]={},e[t].penetrationMultiplier=y(d.penetrationMultiplier(t)),e[t].roundsPerMinute=Math.round(d.roundsPerMinute(t)),e[t].adjustedRPM=Math.round(d.roundsPerMinuteReloadAdjusted(t)),e[t].damagePerSecond=Math.round(d.damagePerSecond(t)),e[t].adjustedDPS=Math.round(d.damagePerSecondReloadAdjusted(t)),e[t].damagePerMag=Math.round(d.damagePerMag(t)),e[t].timeToEmpty=y(d.totalTimeToEmptyMag(t)),e[t].shotsToKill=Math.round(d.shotsToKill(t)),e[t].timeToKill=y(d.timeToKill(t)),e[t].dmgPerBullet=y(d.damageOnBodyShot(t)),e[t].dmgPerBulletHS=y(d.damageOnWeakSpotShot(t)),e[t]["noShield$%"]=Math.round(d.shotsToKill(t,0,0,"special")),e[t]["commonShield$%"]=Math.round(d.shotsToKill(t,P.Shield_01.armorAmount,0,"special")),e[t]["uncommonShield$%"]=Math.round(d.shotsToKill(t,P.Shield_02.armorAmount,0,"special")),e[t]["rareShield$%"]=Math.round(d.shotsToKill(t,P.Shield_03.armorAmount,0,"special")),e[t]["epicShield$%"]=Math.round(d.shotsToKill(t,P.Shield_04.armorAmount,0,"special")),e[t]["exoticShield$%"]=Math.round(d.shotsToKill(t,P.Shield_05.armorAmount,0,"special")),e[t]["legendaryShield$%"]=Math.round(d.shotsToKill(t,P.Shield_Altered_03.armorAmount,0,"special")),e[t]["noHelmet&%"]=Math.round(d.shotsToKill(t,0,100,"special")),e[t]["commonHelmet&%"]=Math.round(d.shotsToKill(t,H.Helmet_01.armorAmount,100,"special")),e[t]["uncommonHelmet&%"]=Math.round(d.shotsToKill(t,H.Helmet_02.armorAmount,100,"special")),e[t]["rareHelmet&%"]=Math.round(d.shotsToKill(t,H.Helmet_03.armorAmount,100,"special")),e[t]["epicHelmet&%"]=Math.round(d.shotsToKill(t,H.Helmet_04.armorAmount,100,"special")),e[t]["exoticHelmet&%"]=Math.round(d.shotsToKill(t,H.Helmet_05.armorAmount,100,"special")),e[t]["legendaryHelmet&%"]=Math.round(d.shotsToKill(t,H.Helmet_Altered_03.armorAmount,100,"special"))}this.detailedStats=e;for(let a in e[p.list[0]]){let t=[];for(let s in p.list)t.push(e[p.list[s]][a]);let l;this.flippedKeys.includes(a)||a.includes("%")?l=Math.min.apply(null,t):l=Math.max.apply(null,t);for(let s in p.list)t[s]==l?this.colourList[p.list[s]][a]="highest-value":this.colourList[p.list[s]][a]="lowest-value";if(t.every((s,o,i)=>s===i[0]))for(let s in p.list)this.colourList[p.list[s]][a]="equal-value"}},stat(e,a){return d.s(e,a)},attachmentStat(e,a){let l=N.getAttachmentEffects(e)[a];if(!!l){if(l.type=="Additive")return"+ "+l.value+" = "+this.stat(e,a);if(l.type=="Multiplicitive_PreAdd"){let s=this.weaponData[e][a],o=this.stat(e,a),i=y(o-s),r=Math.round((l.value-1)*100);return a=="ammoInClip"?(i>0?"+"+Math.round(i):Math.round(i))+" ("+(r>0?"+"+r:r)+"%) = "+Math.round(this.stat(e,a)):(i>0?"+"+i:i)+" ("+(r>0?"+"+r:r)+"%) = "+y(this.stat(e,a))}if(l.type=="Override")return"\u2192 "+l.value+" = "+this.stat(e,a)}}},watch:{selectedWeapons:{deep:!0,handler(){this.updateColourList(),this.updateDetailedStats(),F(),U()}},selectedAttachments:{deep:!0,handler(){this.updateColourList(),this.updateDetailedStats(),F(),U()}},selectedTarget:{deep:!0,handler(){this.updateDetailedStats(),F()}},selectedArmor:{deep:!0,handler(){this.updateDetailedStats(),F()}},selectedHSValue:{deep:!0,handler(){this.updateDetailedStats()}},selectedDistance:{deep:!0,handler(){this.updateDetailedStats(),U()}},selectedWeakspotValue:{deep:!0,handler(){this.updateDetailedStats()}}},mounted(){this.updateColourList(),this.updateDetailedStats()}},ae=e=>(W("data-v-8bcba829"),e=e(),O(),e),ia={class:"table-container"},na={class:"flex-item header-row"},oa=V(" Stats "),ra=ae(()=>n("span",null," Expand stats ",-1)),ca={key:0},da=ae(()=>n("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 512"},[n("path",{d:"M137.4 374.6c12.5 12.5 32.8 12.5 45.3 0l128-128c9.2-9.2 11.9-22.9 6.9-34.9s-16.6-19.8-29.6-19.8L32 192c-12.9 0-24.6 7.8-29.6 19.8s-2.2 25.7 6.9 34.9l128 128z"})],-1)),ua=[da],ma={key:1},ha=ae(()=>n("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 512"},[n("path",{d:"M182.6 137.4c-12.5-12.5-32.8-12.5-45.3 0l-128 128c-9.2 9.2-11.9 22.9-6.9 34.9s16.6 19.8 29.6 19.8H288c12.9 0 24.6-7.8 29.6-19.8s2.2-25.7-6.9-34.9l-128-128z"})],-1)),pa=[ha],_a=ne("<h2 data-v-8bcba829>Detailed Stats</h2><p data-v-8bcba829><span data-v-8bcba829> Penetration Multiplier </span></p><p data-v-8bcba829><span data-v-8bcba829> Rounds per Minute </span></p><p data-v-8bcba829><span data-v-8bcba829> Reload Adjust RPM </span></p><p data-v-8bcba829><span data-v-8bcba829> Damage per Second (Approx)</span></p><p data-v-8bcba829><span data-v-8bcba829> Reload Adjusted DPS (Approx)</span></p><p data-v-8bcba829><span data-v-8bcba829> Damage per Mag </span></p><p data-v-8bcba829><span data-v-8bcba829> Time to Empty Mag (s) </span></p><p data-v-8bcba829><span data-v-8bcba829> Shots to Kill </span></p><p data-v-8bcba829><span data-v-8bcba829> Time to Kill (s) </span></p><p data-v-8bcba829><span data-v-8bcba829> Damage per Bullet</span></p><p data-v-8bcba829><span data-v-8bcba829> Damage per Bullet (HS) </span></p><h2 data-v-8bcba829>Shots to Kill</h2><p data-v-8bcba829><span data-v-8bcba829> Shield </span></p><p data-v-8bcba829><span data-v-8bcba829> Helmet </span></p>",15),fa={class:"inner-container"},va={class:"flex-item"},ga=["src"],Sa=["src"],ba=["src"],ya={class:"small"},Ma={class:"small"},Da={class:"button-container"},Ca={class:"delete-button"},Aa=["onClick"];function ka(e,a,t,l,s,o){const i=M("BodyChart"),r=M("AttachmentSelector"),h=ue("tooltip");return c(),u("section",ia,[n("div",na,[n("h2",null,[oa,ra,te((c(),u("span",{class:"collapse-button",onClick:a[0]||(a[0]=m=>s.collapsed=!s.collapsed),role:"button","aria-label":"Collapse this section"},[s.collapsed?(c(),u("span",ma,pa)):(c(),u("span",ca,ua))])),[[h,{content:"Collapse/Expand stats"}]])]),n("div",{class:T(["stats-wrapper",{collapsed:s.collapsed}])},[(c(!0),u(S,null,C(o.filter(s.weaponData.WP_A_Pistol_Bullet_01),(m,_)=>(c(),u("p",null,[n("span",null,f(s.keyNames[_]),1)]))),256))],2),_a]),n("div",fa,[(c(!0),u(S,null,C(s.selectedWeapons.list,m=>(c(),u("div",va,[n("h2",null,[V(f(s.weaponData[m].inGameName)+" ",1),n("img",{class:"weapon-image",src:"calc-images/"+s.weaponData[m].inGameName+".png"},null,8,ga)]),n("div",{class:T(["stats-wrapper",{collapsed:s.collapsed}])},[(c(!0),u(S,null,C(o.filter(s.weaponData[m]),(_,D)=>(c(),u("p",null,[n("span",{class:T(o.colourClassGiver(D,m))},f(_)+" "+f(o.attachmentStat(m,D)),3)]))),256))],2),n("h2",null,[V(f(s.weaponData[m].inGameName)+" ",1),n("img",{class:"weapon-image",src:"calc-images/"+s.weaponData[m].inGameName+".png"},null,8,Sa)]),(c(!0),u(S,null,C(o.getDetailedStats(m,void 0),(_,D)=>(c(),u("p",null,[n("span",{class:T(o.colourClassGiver(D,m))},f(_),3)]))),256)),n("h2",null,[V(f(s.weaponData[m].inGameName)+" ",1),n("img",{class:"weapon-image",src:"calc-images/"+s.weaponData[m].inGameName+".png"},null,8,ba)]),n("p",ya,[(c(!0),u(S,null,C(o.getDetailedStats(m,"Shield"),(_,D,X)=>(c(),u("span",{class:T(o.colourClassGiver(D,m)),style:se({"--clr":o.rarity(X)})},f(_),7))),256))]),n("p",Ma,[(c(!0),u(S,null,C(o.getDetailedStats(m,"Helmet"),(_,D,X)=>(c(),u("span",{class:T(o.colourClassGiver(D,m)),style:se({"--clr":o.rarity(X)})},f(_),7))),256))]),n("div",Da,[g(i,{weapon:m},null,8,["weapon"]),g(r,{weapon:m},null,8,["weapon"])]),n("div",Ca,[n("button",{onClick:_=>s.selectedWeapons.toggleSelected(m)},"Remove Weapon",8,Aa)])]))),256))])])}const Ta=x(la,[["render",ka],["__scopeId","data-v-8bcba829"]]);const Pa={components:{Selector:Dt,WeaponComparer:Ta,AccuracySelector:re,DistanceSelector:ce},mounted(){window.history.pushState({},document.title,location.pathname.replace(".html","")),F(),U(),me()}},$a=e=>(W("data-v-326c3483"),e=e(),O(),e),xa=$a(()=>n("div",{class:"header"},[n("h1",null,"Weapon Calculator")],-1)),Ba={class:"main-container"},wa=ne('<section data-v-326c3483><div class="header" data-v-326c3483><header data-v-326c3483><h1 data-v-326c3483>Charts</h1></header><p data-v-326c3483>The following charts show the detailed stats above in a visual way. More charts will be added in the future.</p></div><div class="outer-chart-container" data-v-326c3483><div class="chart-container" data-v-326c3483><h2 data-v-326c3483>Penetration Chart</h2><div class="inner-chart-container" data-v-326c3483><div id="penChart" data-v-326c3483>CHART HERE!</div></div></div><div class="chart-container" data-v-326c3483><h2 data-v-326c3483>Falloff Chart</h2><div class="inner-chart-container" data-v-326c3483><div id="falloffChart" data-v-326c3483>Chart HERE!</div></div></div></div></section>',1);function Ia(e,a,t,l,s,o){const i=M("Selector"),r=M("WeaponComparer");return c(),u("section",null,[n("section",null,[xa,n("div",Ba,[g(i),g(r)])]),wa])}const La=x(Pa,[["render",Ia],["__scopeId","data-v-326c3483"]]),Wa=he(La).component("font-awesome-icon",pe.FontAwesome).use(_e).use(fe);Wa.mount("main");
